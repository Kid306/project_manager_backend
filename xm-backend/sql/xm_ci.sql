/*
 Navicat Premium Data Transfer

 Source Server         : 123.217.117.6
 Source Server Type    : MySQL
 Source Server Version : 80021
 Source Host           : 123.217.117.6:3306
 Source Schema         : xm_ci

 Target Server Type    : MySQL
 Target Server Version : 80021
 File Encoding         : 65001

 Date: 16/04/2025 17:12:27
*/

SET NAMES utf8mb4;
SET FOREIGN_KEY_CHECKS = 0;

-- ----------------------------
-- Table structure for xm_branch_state
-- ----------------------------
DROP TABLE IF EXISTS `xm_branch_state`;
CREATE TABLE `xm_branch_state`  (
  `project_cnt` int NULL DEFAULT NULL COMMENT '项目数',
  `biz_date` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '统计日期yyyy-mm-dd类型',
  `file_cnt` int NULL DEFAULT NULL COMMENT '文件数据',
  `calc_time` datetime NULL DEFAULT NULL COMMENT '统计执行日期',
  `calc_status` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '0-暂时的1稳定的，暂时的可以被覆盖，稳定的不允许覆盖',
  `phase_cnt` int NULL DEFAULT NULL COMMENT '项目阶段计划数',
  `phase_finish_cnt` int NULL DEFAULT NULL COMMENT '项目阶段计划已完成数',
  `need_pay_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '待付款总金额',
  `finish_pay_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '已付款总金额',
  `need_col_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '待收款总金额',
  `finish_col_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '已收款总金额',
  `risk_cnt` int NULL DEFAULT NULL COMMENT '项目风险总数',
  `risk_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成风险总数',
  `branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '机构编号',
  `branch_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '机构名称',
  `budget_nouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总非人力预算-来自任务表',
  `budget_ouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总外购人力预算-来自任务表',
  `budget_iuser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总内部人力预算-来自任务表',
  `act_user_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总人力成本',
  `act_iuser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总内部人力成本金额',
  `act_ouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总外购人力成本金额',
  `act_nouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总非人力成本',
  `finish_rate` decimal(10, 2) NULL DEFAULT NULL COMMENT '项目进度0~100之间，来自任务表',
  `budget_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总预算工作量-来自任务表',
  `budget_ouser_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '外购人力总工作量-应该大于或等于阶段计划外购人力总成本',
  `budget_iuser_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '内部人力总工作量-应该大于或等于阶段计划内部人力总成本',
  `estimate_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '预估工时=计划结束时间在计算当日前完成的任务的预算工时总和',
  `act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '已完成工作量-来自计划中实际完成工作量',
  `act_ouser_workload` decimal(20, 0) NULL DEFAULT NULL COMMENT '实际外购总工作量，来自任务表',
  `act_iuser_workload` decimal(20, 0) NULL DEFAULT NULL COMMENT '实际内部总工作量，来自任务表',
  `need_pay_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '待付款笔数',
  `finish_pay_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '完成付款总比数',
  `finish_pay_user_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '已付款总人数',
  `need_pay_user_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '待付款总人数',
  `test_cases` int NULL DEFAULT NULL COMMENT '测试案例总数',
  `exec_cases` int NULL DEFAULT NULL COMMENT '测试中案例总数',
  `design_cases` int NULL DEFAULT NULL COMMENT '设计中案例总数',
  `finish_cases` int NULL DEFAULT NULL COMMENT '完成案例总数',
  `iteration_cnt` int NULL DEFAULT NULL COMMENT '迭代数',
  `product_cnt` int NULL DEFAULT NULL COMMENT '产品数',
  `min_start_time` datetime NULL DEFAULT NULL COMMENT '最早开始日期',
  `max_end_time` datetime NULL DEFAULT NULL COMMENT '最晚结束时间',
  `menu_cnt` int NULL DEFAULT NULL COMMENT '故事数',
  `menu_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成需求数，2状态需求',
  `menu_exec_cnt` int NULL DEFAULT NULL COMMENT '执行中需求数，1状态的需求',
  `menu_unstart_cnt` int NULL DEFAULT NULL COMMENT '未开始需求数，0状态数据',
  `menu_close_cnt` int NULL DEFAULT NULL COMMENT '已关闭需求数，3状态数据',
  `task_cnt` int NULL DEFAULT NULL COMMENT '任务总数',
  `task_unstart_cnt` int NULL DEFAULT NULL COMMENT '待开始任务',
  `task_exec_cnt` int NULL DEFAULT NULL COMMENT '执行中任务',
  `task_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成任务总数-来自任务表',
  `task_set_cnt` int NULL DEFAULT NULL COMMENT '已结算任务',
  `task_out_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '外购任务数，来自任务表',
  `task_close_cnt` int NULL DEFAULT NULL COMMENT '已关闭任务',
  `bug_cnt` int NULL DEFAULT NULL COMMENT 'bug数目',
  `closed_bugs` int NULL DEFAULT NULL COMMENT '已关闭bug总数',
  `resolved_bugs` int NULL DEFAULT NULL COMMENT '已解决bug总数',
  `active_bugs` int NULL DEFAULT NULL COMMENT '激活的bug总数',
  `confirmed_bugs` int NULL DEFAULT NULL COMMENT '已解决bug总数',
  `plan_workhours` decimal(10, 2) NULL DEFAULT NULL COMMENT '工期（小时）',
  `plan_worker_cnt` int NULL DEFAULT NULL COMMENT '总人数',
  `act_worker_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '实际投入人员数',
  `budget_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '预算金额',
  `act_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '实际金额',
  `product_budget_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '产品工时',
  `product_act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '产品实际工时',
  `init_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '计划预估总工时=一级计划中的init_workload汇总而来',
  `init_rate` int NULL DEFAULT NULL COMMENT '计划进度0-100之间，=实际总工时/计划预估总工时*100',
  `mact_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '非报工工时',
  `sum_act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '完成工时合计=act_workload+pmact_workload',
  PRIMARY KEY (`branch_id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '机构内所有项目指标汇总' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_branch_state_his
-- ----------------------------
DROP TABLE IF EXISTS `xm_branch_state_his`;
CREATE TABLE `xm_branch_state_his`  (
  `project_cnt` int NULL DEFAULT NULL COMMENT '项目数',
  `biz_date` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '统计日期yyyy-mm-dd类型',
  `file_cnt` int NULL DEFAULT NULL COMMENT '文件数据',
  `calc_time` datetime NULL DEFAULT NULL COMMENT '统计执行日期',
  `calc_status` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '0-暂时的1稳定的，暂时的可以被覆盖，稳定的不允许覆盖',
  `phase_cnt` int NULL DEFAULT NULL COMMENT '项目阶段计划数',
  `phase_finish_cnt` int NULL DEFAULT NULL COMMENT '项目阶段计划已完成数',
  `need_pay_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '待付款总金额',
  `finish_pay_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '已付款总金额',
  `need_col_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '待收款总金额',
  `finish_col_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '已收款总金额',
  `risk_cnt` int NULL DEFAULT NULL COMMENT '项目风险总数',
  `risk_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成风险总数',
  `branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '机构编号',
  `branch_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '机构名称',
  `budget_nouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总非人力预算-来自任务表',
  `budget_ouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总外购人力预算-来自任务表',
  `budget_iuser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总内部人力预算-来自任务表',
  `act_user_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总人力成本',
  `act_iuser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总内部人力成本金额',
  `act_ouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总外购人力成本金额',
  `act_nouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总非人力成本',
  `finish_rate` decimal(10, 2) NULL DEFAULT NULL COMMENT '项目进度0~100之间，来自任务表',
  `budget_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总预算工作量-来自任务表',
  `budget_ouser_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '外购人力总工作量-应该大于或等于阶段计划外购人力总成本',
  `budget_iuser_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '内部人力总工作量-应该大于或等于阶段计划内部人力总成本',
  `estimate_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '预估工时=计划结束时间在计算当日前完成的任务的预算工时总和',
  `act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '已完成工作量-来自计划中实际完成工作量',
  `act_ouser_workload` decimal(20, 0) NULL DEFAULT NULL COMMENT '实际外购总工作量，来自任务表',
  `act_iuser_workload` decimal(20, 0) NULL DEFAULT NULL COMMENT '实际内部总工作量，来自任务表',
  `need_pay_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '待付款笔数',
  `finish_pay_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '完成付款总比数',
  `finish_pay_user_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '已付款总人数',
  `need_pay_user_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '待付款总人数',
  `test_cases` int NULL DEFAULT NULL COMMENT '测试案例总数',
  `exec_cases` int NULL DEFAULT NULL COMMENT '测试中案例总数',
  `design_cases` int NULL DEFAULT NULL COMMENT '设计中案例总数',
  `finish_cases` int NULL DEFAULT NULL COMMENT '完成案例总数',
  `iteration_cnt` int NULL DEFAULT NULL COMMENT '迭代数',
  `product_cnt` int NULL DEFAULT NULL COMMENT '产品数',
  `min_start_time` datetime NULL DEFAULT NULL COMMENT '最早开始日期',
  `max_end_time` datetime NULL DEFAULT NULL COMMENT '最晚结束时间',
  `menu_cnt` int NULL DEFAULT NULL COMMENT '故事数',
  `menu_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成需求数，2状态需求',
  `menu_exec_cnt` int NULL DEFAULT NULL COMMENT '执行中需求数，1状态的需求',
  `menu_unstart_cnt` int NULL DEFAULT NULL COMMENT '未开始需求数，0状态数据',
  `menu_close_cnt` int NULL DEFAULT NULL COMMENT '已关闭需求数，3状态数据',
  `task_cnt` int NULL DEFAULT NULL COMMENT '任务总数',
  `task_unstart_cnt` int NULL DEFAULT NULL COMMENT '待开始任务',
  `task_exec_cnt` int NULL DEFAULT NULL COMMENT '执行中任务',
  `task_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成任务总数-来自任务表',
  `task_set_cnt` int NULL DEFAULT NULL COMMENT '已结算任务',
  `task_out_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '外购任务数，来自任务表',
  `task_close_cnt` int NULL DEFAULT NULL COMMENT '已关闭任务',
  `bug_cnt` int NULL DEFAULT NULL COMMENT 'bug数目',
  `closed_bugs` int NULL DEFAULT NULL COMMENT '已关闭bug总数',
  `resolved_bugs` int NULL DEFAULT NULL COMMENT '已解决bug总数',
  `active_bugs` int NULL DEFAULT NULL COMMENT '激活的bug总数',
  `confirmed_bugs` int NULL DEFAULT NULL COMMENT '已解决bug总数',
  `plan_workhours` decimal(10, 2) NULL DEFAULT NULL COMMENT '工期（小时）',
  `plan_worker_cnt` int NULL DEFAULT NULL COMMENT '总人数',
  `act_worker_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '实际投入人员数',
  `budget_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '预算金额',
  `act_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '实际金额',
  `product_budget_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '产品工时',
  `product_act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '产品实际工时',
  `init_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '计划预估总工时=一级计划中的init_workload汇总而来',
  `init_rate` int NULL DEFAULT NULL COMMENT '计划进度0-100之间，=实际总工时/计划预估总工时*100',
  `mact_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '非报工工时',
  `sum_act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '完成工时合计=act_workload+pmact_workload',
  PRIMARY KEY (`branch_id`, `biz_date`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '机构内所有项目指标汇总' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_branch_task_type_state
-- ----------------------------
DROP TABLE IF EXISTS `xm_branch_task_type_state`;
CREATE TABLE `xm_branch_task_type_state`  (
  `task_type` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '任务类型',
  `plan_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '工作量',
  `plan_amount` decimal(20, 2) NULL DEFAULT NULL COMMENT '预算金额',
  `act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '实际完成工作量',
  `act_amount` decimal(20, 2) NULL DEFAULT NULL COMMENT '实际完成金额',
  `branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '机构编号',
  `biz_date` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '业务日期yyyy-MM-dd型',
  `calc_time` datetime NULL DEFAULT NULL COMMENT '计算日期',
  `plan_ouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '外购资金预算',
  `plan_iuser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '内购资金预算',
  `act_out_user_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '实际外购成本',
  `act_inner_user_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '实际内购成本',
  `plan_ouser_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '计划外购工作量',
  `plan_iuser_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '计划内购工作量',
  `act_ouser_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '实际外购工作量',
  `act_iuser_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '实际内购工作量',
  `plan_nouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '计划非人力成本',
  `act_nouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '实际非人力成本',
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '主键',
  `branch_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '机构名称',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '按机构编号任务类型汇总' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_budget_labor
-- ----------------------------
DROP TABLE IF EXISTS `xm_budget_labor`;
CREATE TABLE `xm_budget_labor`  (
  `project_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '项目编号',
  `userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目成员编号',
  `budget_at` decimal(10, 2) NULL DEFAULT NULL COMMENT '预算金额/每月',
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '主键',
  `remark` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '备注',
  `username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '用户名',
  `subject_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '预算科目编号',
  `biz_sdate` datetime NULL DEFAULT NULL COMMENT '费用归属周期开始日期',
  `biz_edate` datetime NULL DEFAULT NULL COMMENT '费用归属周期结束日期',
  `biz_month` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '费用归属月份yyyy-mm',
  `INST_ID` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '当前流程实例编号',
  `biz_flow_state` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '当前流程状态0初始1审批中2审批通过3审批不通过4流程取消或者删除',
  `cost_type` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '成本类型0非人力1内部人力2外购人力',
  `subject_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '科目名称',
  `branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目归属机构编号',
  `ubranch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '用户归属机构编号-也就是将来的结算对象',
  `pid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '拆分时填原来的id',
  `task_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '任务编号',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '项目人力成本预算-作废' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_budget_nlabor
-- ----------------------------
DROP TABLE IF EXISTS `xm_budget_nlabor`;
CREATE TABLE `xm_budget_nlabor`  (
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '主键',
  `project_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '项目编号',
  `budget_at` decimal(10, 2) NULL DEFAULT NULL COMMENT '预算金额',
  `remark` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '备注',
  `subject_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '预算科目',
  `biz_sdate` datetime NULL DEFAULT NULL COMMENT '费用归属周期开始日期',
  `biz_edate` datetime NULL DEFAULT NULL COMMENT '费用归属周期结束日期',
  `INST_ID` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '当前流程实例编号',
  `biz_flow_state` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '当前流程状态0初始1审批中2审批通过3审批不通过4流程取消或者删除',
  `cost_type` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '成本类型0非人力1内部人力2外购人力',
  `biz_month` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '费用归属月份yyyy-MM',
  `subject_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '科目名称',
  `branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目归属企业编号',
  `pid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '拆分时填原来的id',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '项目人力成本预算-作废' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_budget_record
-- ----------------------------
DROP TABLE IF EXISTS `xm_budget_record`;
CREATE TABLE `xm_budget_record`  (
  `project_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '项目编号',
  `userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目成员编号',
  `budget_at` decimal(20, 4) NULL DEFAULT NULL COMMENT '预算金额/每月',
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '主键',
  `remark` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '备注',
  `username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '用户名',
  `subject_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '预算科目编号',
  `biz_sdate` datetime NULL DEFAULT NULL COMMENT '费用归属周期开始日期',
  `biz_edate` datetime NULL DEFAULT NULL COMMENT '费用归属周期结束日期',
  `biz_month` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '费用归属月份yyyy-mm',
  `INST_ID` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '当前流程实例编号',
  `biz_flow_state` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '当前流程状态0初始1审批中2审批通过3审批不通过4流程取消或者删除',
  `cost_type` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '成本类型0非人力1内部人力2外购人力',
  `subject_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '科目名称',
  `branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目归属机构编号',
  `ubranch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '用户归属机构编号-也就是将来的结算对象',
  `pid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '拆分时填原来的id',
  `task_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '任务编号',
  `cost_center_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '成本中心-关联到部门.deptid',
  `cuserid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '创建人编号',
  `cusername` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '创建人姓名',
  `ctime` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `ltime` datetime NULL DEFAULT NULL COMMENT '更新时间',
  `luserid` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '更新人编号',
  `lusername` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '更新人名称',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '项目成本预算' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_collect
-- ----------------------------
DROP TABLE IF EXISTS `xm_collect`;
CREATE TABLE `xm_collect`  (
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '项目集编号',
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目集名称',
  `cuserid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '创建人',
  `cusername` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '创建人姓名',
  `ctime` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '归属机构号',
  `deptid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '部门编号',
  `adm_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '管理员编号',
  `adm_username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '管理员姓名',
  `open_lvl` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '开放程度，字典xm_showOut，0-完全不可见，1-仅本司人员可见，2-关联人员可见（众包-外包-招投标）,3-本部门上级及下属部门可见,4-仅本部及上级可见，5-仅本部及下级可见,6-仅本部人员可见    9-不区',
  `deptid_path` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '部门编号全路径编号',
  `status` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '状态',
  `icon` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '图标',
  `tag_ids` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '标签编号，逗号分割多个',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_collect_link
-- ----------------------------
DROP TABLE IF EXISTS `xm_collect_link`;
CREATE TABLE `xm_collect_link`  (
  `collect_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '项目集编号',
  `project_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '项目编号',
  PRIMARY KEY (`collect_id`, `project_id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_collect_state
-- ----------------------------
DROP TABLE IF EXISTS `xm_collect_state`;
CREATE TABLE `xm_collect_state`  (
  `project_cnt` int NULL DEFAULT NULL COMMENT '项目数',
  `biz_date` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '统计日期yyyy-mm-dd类型',
  `file_cnt` int NULL DEFAULT NULL COMMENT '文件数据',
  `calc_time` datetime NULL DEFAULT NULL COMMENT '统计执行日期',
  `calc_status` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '0-暂时的1稳定的，暂时的可以被覆盖，稳定的不允许覆盖',
  `phase_cnt` int NULL DEFAULT NULL COMMENT '项目阶段计划数',
  `phase_finish_cnt` int NULL DEFAULT NULL COMMENT '项目阶段计划已完成数',
  `need_pay_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '待付款总金额',
  `finish_pay_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '已付款总金额',
  `need_col_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '待收款总金额',
  `finish_col_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '已收款总金额',
  `risk_cnt` int NULL DEFAULT NULL COMMENT '项目风险总数',
  `risk_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成风险总数',
  `branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '机构编号',
  `budget_nouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总非人力预算-来自任务表',
  `budget_ouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总外购人力预算-来自任务表',
  `budget_iuser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总内部人力预算-来自任务表',
  `act_user_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总人力成本',
  `act_iuser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总内部人力成本金额',
  `act_ouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总外购人力成本金额',
  `act_nouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总非人力成本',
  `finish_rate` decimal(10, 2) NULL DEFAULT NULL COMMENT '项目进度0~100之间，来自任务表',
  `budget_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总预算工作量-来自任务表',
  `budget_ouser_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '外购人力总工作量-应该大于或等于阶段计划外购人力总成本',
  `budget_iuser_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '内部人力总工作量-应该大于或等于阶段计划内部人力总成本',
  `estimate_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '预估工时=计划结束时间在计算当日前完成的任务的预算工时总和',
  `act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '已完成工作量-来自计划中实际完成工作量',
  `act_ouser_workload` decimal(20, 0) NULL DEFAULT NULL COMMENT '实际外购总工作量，来自任务表',
  `act_iuser_workload` decimal(20, 0) NULL DEFAULT NULL COMMENT '实际内部总工作量，来自任务表',
  `need_pay_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '待付款笔数',
  `finish_pay_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '完成付款总比数',
  `finish_pay_user_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '已付款总人数',
  `need_pay_user_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '待付款总人数',
  `test_cases` int NULL DEFAULT NULL COMMENT '测试案例总数',
  `exec_cases` int NULL DEFAULT NULL COMMENT '测试中案例总数',
  `design_cases` int NULL DEFAULT NULL COMMENT '设计中案例总数',
  `finish_cases` int NULL DEFAULT NULL COMMENT '完成案例总数',
  `iteration_cnt` int NULL DEFAULT NULL COMMENT '迭代数',
  `product_cnt` int NULL DEFAULT NULL COMMENT '产品数',
  `min_start_time` datetime NULL DEFAULT NULL COMMENT '最早开始日期',
  `max_end_time` datetime NULL DEFAULT NULL COMMENT '最晚结束时间',
  `menu_cnt` int NULL DEFAULT NULL COMMENT '故事数',
  `menu_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成需求数，2状态需求',
  `menu_exec_cnt` int NULL DEFAULT NULL COMMENT '执行中需求数，1状态的需求',
  `menu_unstart_cnt` int NULL DEFAULT NULL COMMENT '未开始需求数，0状态数据',
  `menu_close_cnt` int NULL DEFAULT NULL COMMENT '已关闭需求数，3状态数据',
  `task_cnt` int NULL DEFAULT NULL COMMENT '任务总数',
  `task_unstart_cnt` int NULL DEFAULT NULL COMMENT '待开始任务',
  `task_exec_cnt` int NULL DEFAULT NULL COMMENT '执行中任务',
  `task_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成任务总数-来自任务表',
  `task_set_cnt` int NULL DEFAULT NULL COMMENT '已结算任务',
  `task_out_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '外购任务数，来自任务表',
  `task_close_cnt` int NULL DEFAULT NULL COMMENT '已关闭任务',
  `bug_cnt` int NULL DEFAULT NULL COMMENT 'bug数目',
  `closed_bugs` int NULL DEFAULT NULL COMMENT '已关闭bug总数',
  `resolved_bugs` int NULL DEFAULT NULL COMMENT '已解决bug总数',
  `active_bugs` int NULL DEFAULT NULL COMMENT '激活的bug总数',
  `confirmed_bugs` int NULL DEFAULT NULL COMMENT '已解决bug总数',
  `plan_workhours` decimal(10, 2) NULL DEFAULT NULL COMMENT '工期（小时）',
  `plan_worker_cnt` int NULL DEFAULT NULL COMMENT '总人数',
  `act_worker_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '实际投入人员数',
  `budget_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '预算金额',
  `act_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '实际金额',
  `product_budget_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '产品工时',
  `product_act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '产品实际工时',
  `init_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '计划预估总工时=一级计划中的init_workload汇总而来',
  `init_rate` int NULL DEFAULT NULL COMMENT '计划进度0-100之间，=实际总工时/计划预估总工时*100',
  `mact_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '非报工工时',
  `sum_act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '完成工时合计=act_workload+pmact_workload',
  `collect_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '集合编号',
  `collect_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '集合名称',
  PRIMARY KEY (`collect_id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '项目集内所有项目指标汇总' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_collect_state_his
-- ----------------------------
DROP TABLE IF EXISTS `xm_collect_state_his`;
CREATE TABLE `xm_collect_state_his`  (
  `project_cnt` int NULL DEFAULT NULL COMMENT '项目数',
  `biz_date` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '统计日期yyyy-mm-dd类型',
  `file_cnt` int NULL DEFAULT NULL COMMENT '文件数据',
  `calc_time` datetime NULL DEFAULT NULL COMMENT '统计执行日期',
  `calc_status` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '0-暂时的1稳定的，暂时的可以被覆盖，稳定的不允许覆盖',
  `phase_cnt` int NULL DEFAULT NULL COMMENT '项目阶段计划数',
  `phase_finish_cnt` int NULL DEFAULT NULL COMMENT '项目阶段计划已完成数',
  `need_pay_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '待付款总金额',
  `finish_pay_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '已付款总金额',
  `need_col_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '待收款总金额',
  `finish_col_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '已收款总金额',
  `risk_cnt` int NULL DEFAULT NULL COMMENT '项目风险总数',
  `risk_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成风险总数',
  `branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '机构编号',
  `budget_nouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总非人力预算-来自任务表',
  `budget_ouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总外购人力预算-来自任务表',
  `budget_iuser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总内部人力预算-来自任务表',
  `act_user_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总人力成本',
  `act_iuser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总内部人力成本金额',
  `act_ouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总外购人力成本金额',
  `act_nouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总非人力成本',
  `finish_rate` decimal(10, 2) NULL DEFAULT NULL COMMENT '项目进度0~100之间，来自任务表',
  `budget_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总预算工作量-来自任务表',
  `budget_ouser_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '外购人力总工作量-应该大于或等于阶段计划外购人力总成本',
  `budget_iuser_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '内部人力总工作量-应该大于或等于阶段计划内部人力总成本',
  `estimate_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '预估工时=计划结束时间在计算当日前完成的任务的预算工时总和',
  `act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '已完成工作量-来自计划中实际完成工作量',
  `act_ouser_workload` decimal(20, 0) NULL DEFAULT NULL COMMENT '实际外购总工作量，来自任务表',
  `act_iuser_workload` decimal(20, 0) NULL DEFAULT NULL COMMENT '实际内部总工作量，来自任务表',
  `need_pay_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '待付款笔数',
  `finish_pay_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '完成付款总比数',
  `finish_pay_user_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '已付款总人数',
  `need_pay_user_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '待付款总人数',
  `test_cases` int NULL DEFAULT NULL COMMENT '测试案例总数',
  `exec_cases` int NULL DEFAULT NULL COMMENT '测试中案例总数',
  `design_cases` int NULL DEFAULT NULL COMMENT '设计中案例总数',
  `finish_cases` int NULL DEFAULT NULL COMMENT '完成案例总数',
  `iteration_cnt` int NULL DEFAULT NULL COMMENT '迭代数',
  `product_cnt` int NULL DEFAULT NULL COMMENT '产品数',
  `min_start_time` datetime NULL DEFAULT NULL COMMENT '最早开始日期',
  `max_end_time` datetime NULL DEFAULT NULL COMMENT '最晚结束时间',
  `menu_cnt` int NULL DEFAULT NULL COMMENT '故事数',
  `menu_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成需求数，2状态需求',
  `menu_exec_cnt` int NULL DEFAULT NULL COMMENT '执行中需求数，1状态的需求',
  `menu_unstart_cnt` int NULL DEFAULT NULL COMMENT '未开始需求数，0状态数据',
  `menu_close_cnt` int NULL DEFAULT NULL COMMENT '已关闭需求数，3状态数据',
  `task_cnt` int NULL DEFAULT NULL COMMENT '任务总数',
  `task_unstart_cnt` int NULL DEFAULT NULL COMMENT '待开始任务',
  `task_exec_cnt` int NULL DEFAULT NULL COMMENT '执行中任务',
  `task_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成任务总数-来自任务表',
  `task_set_cnt` int NULL DEFAULT NULL COMMENT '已结算任务',
  `task_out_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '外购任务数，来自任务表',
  `task_close_cnt` int NULL DEFAULT NULL COMMENT '已关闭任务',
  `bug_cnt` int NULL DEFAULT NULL COMMENT 'bug数目',
  `closed_bugs` int NULL DEFAULT NULL COMMENT '已关闭bug总数',
  `resolved_bugs` int NULL DEFAULT NULL COMMENT '已解决bug总数',
  `active_bugs` int NULL DEFAULT NULL COMMENT '激活的bug总数',
  `confirmed_bugs` int NULL DEFAULT NULL COMMENT '已解决bug总数',
  `plan_workhours` decimal(10, 2) NULL DEFAULT NULL COMMENT '工期（小时）',
  `plan_worker_cnt` int NULL DEFAULT NULL COMMENT '总人数',
  `act_worker_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '实际投入人员数',
  `budget_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '预算金额',
  `act_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '实际金额',
  `product_budget_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '产品工时',
  `product_act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '产品实际工时',
  `init_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '计划预估总工时=一级计划中的init_workload汇总而来',
  `init_rate` int NULL DEFAULT NULL COMMENT '计划进度0-100之间，=实际总工时/计划预估总工时*100',
  `mact_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '非报工工时',
  `sum_act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '完成工时合计=act_workload+pmact_workload',
  `collect_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '集合编号',
  `collect_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '集合名称',
  PRIMARY KEY (`collect_id`, `biz_date`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '机构内所有项目指标汇总' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_comment
-- ----------------------------
DROP TABLE IF EXISTS `xm_comment`;
CREATE TABLE `xm_comment`  (
  `ID` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '主键',
  `USERID` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '评论人',
  `USERNAME` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '评论人姓名',
  `STAR` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '星级',
  `CDATE` datetime NULL DEFAULT NULL COMMENT '时间',
  `BIZ_ID` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '主体业务编号，需求编号、任务编号等主体业务编号',
  `PID` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '上级评论 编号',
  `ups` decimal(10, 0) NULL DEFAULT 0 COMMENT '点赞数量',
  `IS_SHOW` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否显示0否1是',
  `TO_USERID` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '回复用户编号',
  `TO_USERNAME` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '回复用户名',
  `LVL` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT '0' COMMENT '层级0,1,2,3,4',
  `CONTEXT` text CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '评论内容',
  `BRANCH_ID` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '机构编号',
  `IP` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT 'ip地址',
  `city_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '城市编号',
  `city_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '城市名称',
  `status` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '状态0未审核，1已审核，3审核不通过',
  `child_nums` int NULL DEFAULT NULL COMMENT '儿子节点数量',
  `pbiz_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '上级业务编号，主体业务编号的上级编号',
  `obj_type` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '评论对象类型，比如产品、团队、风险、需求等，字典objType',
  `notify_userids` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '通知谁看',
  PRIMARY KEY (`ID`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '评论表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_cost_nlabor
-- ----------------------------
DROP TABLE IF EXISTS `xm_cost_nlabor`;
CREATE TABLE `xm_cost_nlabor`  (
  `project_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '项目编号',
  `userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '用户编号-费用主责人',
  `ctime` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `send_time` datetime NULL DEFAULT NULL COMMENT '费用发放时间',
  `username` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '用户名称',
  `project_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目名称',
  `remark` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '备注',
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '主键',
  `task_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '任务编号',
  `task_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '任务名称',
  `subject_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '科目编号',
  `biz_sdate` datetime NULL DEFAULT NULL COMMENT '费用归属周期开始日期',
  `biz_edate` datetime NULL DEFAULT NULL COMMENT '费用归属周期结束日期',
  `act_at` decimal(10, 2) NULL DEFAULT NULL COMMENT '实际成本金额',
  `cost_type` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '成本类型0非人力1内部人力2外购人力,此表都是非人力',
  `biz_month` varchar(7) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '业务归属月份yyyy-MM',
  `biz_date` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '业务归属日期yyyy-MM-dd',
  `subject_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '科目名称',
  `ubranch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '用户归属机构',
  `branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目归属机构',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '项目实际人工成本费用-作废' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_cost_record
-- ----------------------------
DROP TABLE IF EXISTS `xm_cost_record`;
CREATE TABLE `xm_cost_record`  (
  `project_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '项目编号',
  `userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '用户编号-费用主责人',
  `ctime` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `send_time` datetime NULL DEFAULT NULL COMMENT '费用发放时间',
  `username` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '用户名称',
  `project_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目名称',
  `remark` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '备注',
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '主键',
  `task_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '任务编号',
  `task_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '任务名称',
  `subject_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '科目编号',
  `biz_sdate` datetime NULL DEFAULT NULL COMMENT '费用归属周期开始日期',
  `biz_edate` datetime NULL DEFAULT NULL COMMENT '费用归属周期结束日期',
  `act_at` decimal(20, 4) NULL DEFAULT NULL COMMENT '实际成本金额',
  `cost_type` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '成本类型0非人力1内部人力2外购人力,此表都是非人力',
  `biz_month` varchar(7) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '业务归属月份yyyy-MM',
  `biz_date` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '业务归属日期yyyy-MM-dd',
  `subject_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '科目名称',
  `ubranch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '用户归属机构',
  `branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目归属机构',
  `INST_ID` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '当前流程实例编号',
  `biz_flow_state` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '当前流程状态0初始1审批中2审批通过3审批不通过4流程取消或者删除',
  `ref_sbill_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '结算单编号',
  `ref_sbill_sub_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '结算单明细编号',
  `cost_center_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '成本中心-关联到部门.deptid',
  `cuserid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '创建人编号',
  `cusername` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '创建人姓名',
  `ltime` datetime NULL DEFAULT NULL COMMENT '更新时间',
  `luserid` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '更新人编号',
  `lusername` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '更新人名称',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '项目实际成本费用记录' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_env_list
-- ----------------------------
DROP TABLE IF EXISTS `xm_env_list`;
CREATE TABLE `xm_env_list`  (
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '主键',
  `remark` text CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '备注说明',
  `ip_address` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '内网ip地址',
  `port` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '内网访问端口',
  `branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '归属机构',
  `access_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '访问用户编号',
  `access_password` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '访问密码',
  `access_url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '访问链接',
  `supplier` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '供应商',
  `web_ip_address` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '外网ip地址',
  `web_port` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '外网端口',
  `create_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '添加人员',
  `create_username` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '添加人员姓名',
  `create_time` datetime NULL DEFAULT NULL COMMENT '添加时间',
  `env_state` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '状态0不可用1已启用2已过期',
  `start_time` datetime NULL DEFAULT NULL COMMENT '有效日期开始',
  `end_time` datetime NULL DEFAULT NULL COMMENT '有效日期结束',
  `fee_amount` decimal(10, 2) NULL DEFAULT NULL COMMENT '费用',
  `fee_rule` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '计费规则',
  `project_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '归属项目编号',
  `read_qx` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '0-全部可看，1-同机构可看，2-同机构同项目可看，9-仅自己可看',
  `write_qx` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '0-全部可写，1-同机构可写，2-同机构同项目可写，3-同项目上级可写，9-仅自己可修改',
  `ltime` datetime NULL DEFAULT NULL COMMENT '修改时间',
  `luserid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '修改人编号',
  `lusername` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '修改人姓名',
  `name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '名称',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '项目环境清单' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_file
-- ----------------------------
DROP TABLE IF EXISTS `xm_file`;
CREATE TABLE `xm_file`  (
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '文档编号',
  `name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '文件名称',
  `project_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '项目编号',
  `project_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目名称',
  `description` text CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '文件说明',
  `create_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '创建人编号',
  `create_username` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '创建人',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `read_qx` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '0-全部可看，1-同机构可看，2-同机构同项目可看，3-同项目上级可看，9-仅自己可看',
  `write_qx` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '0-全部可写，1-同机构可写，2-同机构同项目可写，3-同项目上级可写，9-仅自己可修改',
  `ltime` datetime NULL DEFAULT NULL COMMENT '修改时间',
  `luserid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '修改人编号',
  `lusername` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '修改人姓名',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_func
-- ----------------------------
DROP TABLE IF EXISTS `xm_func`;
CREATE TABLE `xm_func`  (
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '主键',
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '名称',
  `pid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '上级编号',
  `pname` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '上级名称',
  `pid_paths` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '上级路径，直到自身，逗号分割，包含自身',
  `product_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '产品编号',
  `lvl` int NULL DEFAULT NULL COMMENT '菜单级别0-根，1，2，3，4，5依次类推',
  `pbranch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '产品归属企业',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '功能模块表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_group
-- ----------------------------
DROP TABLE IF EXISTS `xm_group`;
CREATE TABLE `xm_group`  (
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '主键',
  `group_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '团队名称',
  `project_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目编号-属于产品线则可为空',
  `pg_type_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目团队类型编号',
  `pg_type_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '团队类型名称',
  `leader_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '团队负责人',
  `leader_username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '负责人姓名',
  `ctime` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `ltime` datetime NULL DEFAULT NULL COMMENT '更新时间',
  `product_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '产品编号，属于项目组的团队则可为空',
  `branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '归属机构编号',
  `pg_class` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否启用-0否，1-是',
  `pgroup_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '上级团队编号',
  `lvl` int NULL DEFAULT NULL COMMENT '级别0级1级2级3级4级',
  `pid_paths` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '上级编号路径逗号分割,0,开始，本组编号+逗号结束',
  `is_tpl` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否为模板',
  `ass_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '副组长编号',
  `ass_username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '副组长姓名',
  `children_cnt` int NULL DEFAULT NULL COMMENT '下级团队数量',
  `user_cnt` int NULL DEFAULT NULL COMMENT '组员数量',
  `qx_code` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '权限码',
  `calc_workload` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否计算工作量0否1是',
  `ntype` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '节点类型0管理团队、1执行团队',
  `crow_branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '协作公司编号',
  `crow_branch_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '协作公司名称',
  `is_crow` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否众包团队',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `xm_project_group_ibfk_1`(`project_id` ASC) USING BTREE,
  INDEX `xm_project_group_ibfk_2`(`product_id` ASC) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '团队表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_group_state
-- ----------------------------
DROP TABLE IF EXISTS `xm_group_state`;
CREATE TABLE `xm_group_state`  (
  `project_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '项目编号',
  `biz_date` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '统计日期yyyy-mm-dd类型',
  `file_cnt` int NULL DEFAULT NULL COMMENT '文件数据',
  `project_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目名称',
  `calc_time` datetime NULL DEFAULT NULL COMMENT '统计执行日期',
  `calc_status` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '0-暂时的1稳定的，暂时的可以被覆盖，稳定的不允许覆盖',
  `phase_cnt` int NULL DEFAULT NULL COMMENT '项目阶段计划数',
  `phase_finish_cnt` int NULL DEFAULT NULL COMMENT '项目阶段计划已完成数',
  `need_pay_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '待付款总金额',
  `finish_pay_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '已付款总金额',
  `need_col_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '待收款总金额',
  `finish_col_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '已收款总金额',
  `risk_cnt` int NULL DEFAULT NULL COMMENT '项目风险总数',
  `risk_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成风险总数',
  `branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '机构编号',
  `branch_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '机构名称',
  `budget_nouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总非人力预算-来自任务表',
  `budget_ouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总外购人力预算-来自任务表',
  `budget_iuser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总内部人力预算-来自任务表',
  `act_user_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总人力成本',
  `act_iuser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总内部人力成本金额',
  `act_ouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总外购人力成本金额',
  `act_nouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总非人力成本',
  `finish_rate` decimal(10, 2) NULL DEFAULT NULL COMMENT '项目进度0~100之间，来自任务表',
  `budget_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总预算工作量-来自任务表',
  `budget_ouser_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '外购人力总工作量-应该大于或等于阶段计划外购人力总成本',
  `budget_iuser_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '内部人力总工作量-应该大于或等于阶段计划内部人力总成本',
  `estimate_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '预估工时=计划结束时间在计算当日前完成的任务的预算工时总和',
  `act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '已完成工作量-来自计划中实际完成工作量',
  `project_status` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '0|初始1|售前2|立项中3|实施中4|暂停中5|结项中6|已结项7|售后8|已完成9|已关闭',
  `act_ouser_workload` decimal(20, 0) NULL DEFAULT NULL COMMENT '实际外购总工作量，来自任务表',
  `act_iuser_workload` decimal(20, 0) NULL DEFAULT NULL COMMENT '实际内部总工作量，来自任务表',
  `need_pay_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '待付款笔数',
  `finish_pay_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '完成付款总比数',
  `finish_pay_user_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '已付款总人数',
  `need_pay_user_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '待付款总人数',
  `test_cases` int NULL DEFAULT NULL COMMENT '测试案例总数',
  `exec_cases` int NULL DEFAULT NULL COMMENT '测试中案例总数',
  `design_cases` int NULL DEFAULT NULL COMMENT '设计中案例总数',
  `finish_cases` int NULL DEFAULT NULL COMMENT '完成案例总数',
  `iteration_cnt` int NULL DEFAULT NULL COMMENT '迭代数',
  `product_cnt` int NULL DEFAULT NULL COMMENT '产品数',
  `min_start_time` datetime NULL DEFAULT NULL COMMENT '最早开始日期',
  `max_end_time` datetime NULL DEFAULT NULL COMMENT '最晚结束时间',
  `menu_cnt` int NULL DEFAULT NULL COMMENT '故事数',
  `menu_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成需求数，2状态需求',
  `menu_exec_cnt` int NULL DEFAULT NULL COMMENT '执行中需求数，1状态的需求',
  `menu_unstart_cnt` int NULL DEFAULT NULL COMMENT '未开始需求数，0状态数据',
  `menu_close_cnt` int NULL DEFAULT NULL COMMENT '已关闭需求数，3状态数据',
  `task_cnt` int NULL DEFAULT NULL COMMENT '任务总数',
  `task_unstart_cnt` int NULL DEFAULT NULL COMMENT '待开始任务',
  `task_exec_cnt` int NULL DEFAULT NULL COMMENT '执行中任务',
  `task_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成任务总数-来自任务表',
  `task_set_cnt` int NULL DEFAULT NULL COMMENT '已结算任务',
  `task_out_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '外购任务数，来自任务表',
  `task_close_cnt` int NULL DEFAULT NULL COMMENT '已关闭任务',
  `bug_cnt` int NULL DEFAULT NULL COMMENT 'bug数目',
  `closed_bugs` int NULL DEFAULT NULL COMMENT '已关闭bug总数',
  `resolved_bugs` int NULL DEFAULT NULL COMMENT '已解决bug总数',
  `active_bugs` int NULL DEFAULT NULL COMMENT '激活的bug总数',
  `confirmed_bugs` int NULL DEFAULT NULL COMMENT '已解决bug总数',
  `plan_workhours` decimal(10, 2) NULL DEFAULT NULL COMMENT '工期（小时）',
  `plan_worker_cnt` int NULL DEFAULT NULL COMMENT '总人数',
  `act_worker_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '实际投入人员数',
  `budget_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '预算总金额',
  `act_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '实际总金额',
  `group_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '组编号',
  `group_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '团队名称',
  `init_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '计划预估总工时=一级计划中的init_workload汇总而来',
  `init_rate` int NULL DEFAULT NULL COMMENT '计划进度0-100之间，=实际总工时/计划预估总工时*100',
  `mact_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '非报工工时',
  `sum_act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '完成工时合计=act_workload+pmact_workload',
  PRIMARY KEY (`group_id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '项目指标日统计表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_group_state_his
-- ----------------------------
DROP TABLE IF EXISTS `xm_group_state_his`;
CREATE TABLE `xm_group_state_his`  (
  `project_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '项目编号',
  `biz_date` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '统计日期yyyy-mm-dd类型',
  `file_cnt` int NULL DEFAULT NULL COMMENT '文件数据',
  `project_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目名称',
  `calc_time` datetime NULL DEFAULT NULL COMMENT '统计执行日期',
  `calc_status` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '0-暂时的1稳定的，暂时的可以被覆盖，稳定的不允许覆盖',
  `phase_cnt` int NULL DEFAULT NULL COMMENT '项目阶段计划数',
  `phase_finish_cnt` int NULL DEFAULT NULL COMMENT '项目阶段计划已完成数',
  `need_pay_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '待付款总金额',
  `finish_pay_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '已付款总金额',
  `need_col_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '待收款总金额',
  `finish_col_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '已收款总金额',
  `risk_cnt` int NULL DEFAULT NULL COMMENT '项目风险总数',
  `risk_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成风险总数',
  `branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '机构编号',
  `branch_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '机构名称',
  `budget_nouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总非人力预算-来自任务表',
  `budget_ouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总外购人力预算-来自任务表',
  `budget_iuser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总内部人力预算-来自任务表',
  `act_user_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总人力成本',
  `act_iuser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总内部人力成本金额',
  `act_ouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总外购人力成本金额',
  `act_nouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总非人力成本',
  `finish_rate` decimal(10, 2) NULL DEFAULT NULL COMMENT '项目进度0~100之间，来自任务表',
  `budget_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总预算工作量-来自任务表',
  `budget_ouser_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '外购人力总工作量-应该大于或等于阶段计划外购人力总成本',
  `budget_iuser_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '内部人力总工作量-应该大于或等于阶段计划内部人力总成本',
  `estimate_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '预估工时=计划结束时间在计算当日前完成的任务的预算工时总和',
  `act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '已完成工作量-来自计划中实际完成工作量',
  `project_status` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '0|初始1|售前2|立项中3|实施中4|暂停中5|结项中6|已结项7|售后8|已完成9|已关闭',
  `act_ouser_workload` decimal(20, 0) NULL DEFAULT NULL COMMENT '实际外购总工作量，来自任务表',
  `act_iuser_workload` decimal(20, 0) NULL DEFAULT NULL COMMENT '实际内部总工作量，来自任务表',
  `need_pay_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '待付款笔数',
  `finish_pay_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '完成付款总比数',
  `finish_pay_user_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '已付款总人数',
  `need_pay_user_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '待付款总人数',
  `test_cases` int NULL DEFAULT NULL COMMENT '测试案例总数',
  `exec_cases` int NULL DEFAULT NULL COMMENT '测试中案例总数',
  `design_cases` int NULL DEFAULT NULL COMMENT '设计中案例总数',
  `finish_cases` int NULL DEFAULT NULL COMMENT '完成案例总数',
  `iteration_cnt` int NULL DEFAULT NULL COMMENT '迭代数',
  `product_cnt` int NULL DEFAULT NULL COMMENT '产品数',
  `min_start_time` datetime NULL DEFAULT NULL COMMENT '最早开始日期',
  `max_end_time` datetime NULL DEFAULT NULL COMMENT '最晚结束时间',
  `menu_cnt` int NULL DEFAULT NULL COMMENT '故事数',
  `menu_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成需求数，2状态需求',
  `menu_exec_cnt` int NULL DEFAULT NULL COMMENT '执行中需求数，1状态的需求',
  `menu_unstart_cnt` int NULL DEFAULT NULL COMMENT '未开始需求数，0状态数据',
  `menu_close_cnt` int NULL DEFAULT NULL COMMENT '已关闭需求数，3状态数据',
  `task_cnt` int NULL DEFAULT NULL COMMENT '任务总数',
  `task_unstart_cnt` int NULL DEFAULT NULL COMMENT '待开始任务',
  `task_exec_cnt` int NULL DEFAULT NULL COMMENT '执行中任务',
  `task_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成任务总数-来自任务表',
  `task_set_cnt` int NULL DEFAULT NULL COMMENT '已结算任务',
  `task_out_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '外购任务数，来自任务表',
  `task_close_cnt` int NULL DEFAULT NULL COMMENT '已关闭任务',
  `bug_cnt` int NULL DEFAULT NULL COMMENT 'bug数目',
  `closed_bugs` int NULL DEFAULT NULL COMMENT '已关闭bug总数',
  `resolved_bugs` int NULL DEFAULT NULL COMMENT '已解决bug总数',
  `active_bugs` int NULL DEFAULT NULL COMMENT '激活的bug总数',
  `confirmed_bugs` int NULL DEFAULT NULL COMMENT '已解决bug总数',
  `plan_workhours` decimal(10, 2) NULL DEFAULT NULL COMMENT '工期（小时）',
  `plan_worker_cnt` int NULL DEFAULT NULL COMMENT '总人数',
  `act_worker_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '实际投入人员数',
  `budget_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '预算总金额',
  `act_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '实际总金额',
  `group_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '组编号',
  `group_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '团队名称',
  `init_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '计划预估总工时=一级计划中的init_workload汇总而来',
  `init_rate` int NULL DEFAULT NULL COMMENT '计划进度0-100之间，=实际总工时/计划预估总工时*100',
  `mact_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '非报工工时',
  `sum_act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '完成工时合计=act_workload+pmact_workload',
  PRIMARY KEY (`group_id`, `biz_date`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '项目指标日统计表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_group_user
-- ----------------------------
DROP TABLE IF EXISTS `xm_group_user`;
CREATE TABLE `xm_group_user`  (
  `join_time` datetime NULL DEFAULT NULL COMMENT '加入时间',
  `group_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '团队编号',
  `userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '团队成员编号',
  `username` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '团队成员',
  `out_time` datetime NULL DEFAULT NULL COMMENT '离队时间',
  `status` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '当前状态0参与中1已退出团队',
  `obranch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '组员原归属机构编号',
  `is_pri` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否私人加入0否1是',
  `seq_no` int NULL DEFAULT NULL COMMENT '排序号--从1开始',
  `project_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目编号',
  `product_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '产品编号',
  `pg_class` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '0-项目小组，1-产品小组，2-团队',
  `obranch_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '原归属机构名称',
  PRIMARY KEY (`group_id`, `userid`) USING BTREE,
  CONSTRAINT `xm_group_user_ibfk_1` FOREIGN KEY (`group_id`) REFERENCES `xm_group` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '团队成员表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_iteration
-- ----------------------------
DROP TABLE IF EXISTS `xm_iteration`;
CREATE TABLE `xm_iteration`  (
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '迭代编码',
  `branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '机构编号',
  `iteration_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '迭代名称',
  `start_time` datetime NULL DEFAULT NULL COMMENT '开始时间',
  `end_time` datetime NULL DEFAULT NULL COMMENT '结束时间',
  `online_time` datetime NULL DEFAULT NULL COMMENT '上线时间',
  `pid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '上级迭代-作废，不以树状结构',
  `admin_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '负责人',
  `admin_username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '负责人姓名',
  `ctime` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `budget_cost` decimal(10, 2) NULL DEFAULT NULL COMMENT '预算成本',
  `budget_workload` decimal(10, 2) NULL DEFAULT NULL COMMENT '预算工作量',
  `seq_no` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '顺序号',
  `istatus` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '迭代阶段:0未开始,1需求评审,2计划会,3研发中,4测试中,5迭代上线,6已完成7已关闭',
  `cuserid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '创建人编号',
  `cusername` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '创建人人姓名',
  `remark` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '备注',
  `iphase` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '迭代阶段:0未开始,1需求评审,2计划会,3研发中,4测试中,5迭代上线,6已完成7已关闭',
  `is_tpl` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否为模板',
  `product_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '产品编号',
  `product_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '产品名称',
  `tag_ids` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '标签，逗号分隔多个',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `online_time`(`online_time` ASC) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '迭代定义' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_iteration_state
-- ----------------------------
DROP TABLE IF EXISTS `xm_iteration_state`;
CREATE TABLE `xm_iteration_state`  (
  `iteration_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '迭代编号',
  `biz_date` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '统计日期yyyy-mm-dd类型',
  `file_cnt` int NULL DEFAULT NULL COMMENT '文件数据',
  `iteration_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '迭代名称',
  `calc_time` datetime NULL DEFAULT NULL COMMENT '统计执行日期',
  `calc_status` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '0-暂时的1稳定的，暂时的可以被覆盖，稳定的不允许覆盖',
  `phase_cnt` int NULL DEFAULT NULL COMMENT '项目阶段计划数',
  `phase_finish_cnt` int NULL DEFAULT NULL COMMENT '项目阶段计划已完成数',
  `need_pay_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '待付款总金额',
  `finish_pay_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '已付款总金额',
  `need_col_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '待收款总金额',
  `finish_col_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '已收款总金额',
  `risk_cnt` int NULL DEFAULT NULL COMMENT '项目风险总数',
  `risk_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成风险总数',
  `branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '机构编号',
  `branch_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '机构名称',
  `budget_nouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总非人力预算-来自任务表',
  `budget_ouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总外购人力预算-来自任务表',
  `budget_iuser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总内部人力预算-来自任务表',
  `act_user_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总人力成本',
  `act_iuser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总内部人力成本金额',
  `act_ouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总外购人力成本金额',
  `act_nouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总非人力成本',
  `finish_rate` decimal(10, 2) NULL DEFAULT NULL COMMENT '项目进度0~100之间，来自任务表',
  `budget_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总预算工作量-来自任务表',
  `budget_ouser_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '外购人力总工作量-应该大于或等于阶段计划外购人力总成本',
  `budget_iuser_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '内部人力总工作量-应该大于或等于阶段计划内部人力总成本',
  `estimate_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '预估工时=计划结束时间在计算当日前完成的任务的预算工时总和',
  `act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '已完成工作量-来自计划中实际完成工作量',
  `project_status` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '0|初始1|售前2|立项中3|实施中4|暂停中5|结项中6|已结项7|售后8|已完成9|已关闭',
  `act_ouser_workload` decimal(20, 0) NULL DEFAULT NULL COMMENT '实际外购总工作量，来自任务表',
  `act_iuser_workload` decimal(20, 0) NULL DEFAULT NULL COMMENT '实际内部总工作量，来自任务表',
  `need_pay_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '待付款笔数',
  `finish_pay_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '完成付款总比数',
  `finish_pay_user_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '已付款总人数',
  `need_pay_user_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '待付款总人数',
  `test_cases` int NULL DEFAULT NULL COMMENT '测试案例总数',
  `exec_cases` int NULL DEFAULT NULL COMMENT '测试中案例总数',
  `design_cases` int NULL DEFAULT NULL COMMENT '设计中案例总数',
  `finish_cases` int NULL DEFAULT NULL COMMENT '完成案例总数',
  `iteration_cnt` int NULL DEFAULT NULL COMMENT '迭代数',
  `product_cnt` int NULL DEFAULT NULL COMMENT '产品数',
  `min_start_time` datetime NULL DEFAULT NULL COMMENT '最早开始日期',
  `max_end_time` datetime NULL DEFAULT NULL COMMENT '最晚结束时间',
  `menu_cnt` int NULL DEFAULT NULL COMMENT '故事数',
  `menu_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成需求数，2状态需求',
  `menu_exec_cnt` int NULL DEFAULT NULL COMMENT '执行中需求数，1状态的需求',
  `menu_unstart_cnt` int NULL DEFAULT NULL COMMENT '未开始需求数，0状态数据',
  `menu_close_cnt` int NULL DEFAULT NULL COMMENT '已关闭需求数，3状态数据',
  `task_cnt` int NULL DEFAULT NULL COMMENT '任务总数',
  `task_unstart_cnt` int NULL DEFAULT NULL COMMENT '待开始任务',
  `task_exec_cnt` int NULL DEFAULT NULL COMMENT '执行中任务',
  `task_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成任务总数-来自任务表',
  `task_set_cnt` int NULL DEFAULT NULL COMMENT '已结算任务',
  `task_out_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '外购任务数，来自任务表',
  `task_close_cnt` int NULL DEFAULT NULL COMMENT '已关闭任务',
  `bug_cnt` int NULL DEFAULT NULL COMMENT 'bug数目',
  `closed_bugs` int NULL DEFAULT NULL COMMENT '已关闭bug总数',
  `resolved_bugs` int NULL DEFAULT NULL COMMENT '已解决bug总数',
  `active_bugs` int NULL DEFAULT NULL COMMENT '激活的bug总数',
  `confirmed_bugs` int NULL DEFAULT NULL COMMENT '已解决bug总数',
  `plan_workhours` decimal(10, 2) NULL DEFAULT NULL COMMENT '工期（小时）',
  `plan_worker_cnt` int NULL DEFAULT NULL COMMENT '总人数',
  `act_worker_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '实际投入人员数',
  `project_cnt` int NULL DEFAULT NULL COMMENT '项目数',
  `budget_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '预算总金额',
  `act_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '实际总金额',
  `init_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '计划预估总工时=一级计划中的init_workload汇总而来',
  `init_rate` int NULL DEFAULT NULL COMMENT '计划进度0-100之间，=实际总工时/计划预估总工时*100',
  `mact_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '非报工工时',
  `sum_act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '完成工时合计=act_workload+pmact_workload',
  `product_no` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '产品编号',
  PRIMARY KEY (`iteration_id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '项目指标日统计表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_iteration_state_his
-- ----------------------------
DROP TABLE IF EXISTS `xm_iteration_state_his`;
CREATE TABLE `xm_iteration_state_his`  (
  `iteration_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '迭代编号',
  `biz_date` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '统计日期yyyy-mm-dd类型',
  `file_cnt` int NULL DEFAULT NULL COMMENT '文件数据',
  `iteration_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '迭代名称',
  `calc_time` datetime NULL DEFAULT NULL COMMENT '统计执行日期',
  `calc_status` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '0-暂时的1稳定的，暂时的可以被覆盖，稳定的不允许覆盖',
  `phase_cnt` int NULL DEFAULT NULL COMMENT '项目阶段计划数',
  `phase_finish_cnt` int NULL DEFAULT NULL COMMENT '项目阶段计划已完成数',
  `need_pay_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '待付款总金额',
  `finish_pay_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '已付款总金额',
  `need_col_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '待收款总金额',
  `finish_col_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '已收款总金额',
  `risk_cnt` int NULL DEFAULT NULL COMMENT '项目风险总数',
  `risk_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成风险总数',
  `branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '机构编号',
  `branch_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '机构名称',
  `budget_nouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总非人力预算-来自任务表',
  `budget_ouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总外购人力预算-来自任务表',
  `budget_iuser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总内部人力预算-来自任务表',
  `act_user_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总人力成本',
  `act_iuser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总内部人力成本金额',
  `act_ouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总外购人力成本金额',
  `act_nouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总非人力成本',
  `finish_rate` decimal(10, 2) NULL DEFAULT NULL COMMENT '项目进度0~100之间，来自任务表',
  `budget_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总预算工作量-来自任务表',
  `budget_ouser_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '外购人力总工作量-应该大于或等于阶段计划外购人力总成本',
  `budget_iuser_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '内部人力总工作量-应该大于或等于阶段计划内部人力总成本',
  `estimate_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '预估工时=计划结束时间在计算当日前完成的任务的预算工时总和',
  `act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '已完成工作量-来自计划中实际完成工作量',
  `project_status` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '0|初始1|售前2|立项中3|实施中4|暂停中5|结项中6|已结项7|售后8|已完成9|已关闭',
  `act_ouser_workload` decimal(20, 0) NULL DEFAULT NULL COMMENT '实际外购总工作量，来自任务表',
  `act_iuser_workload` decimal(20, 0) NULL DEFAULT NULL COMMENT '实际内部总工作量，来自任务表',
  `need_pay_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '待付款笔数',
  `finish_pay_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '完成付款总比数',
  `finish_pay_user_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '已付款总人数',
  `need_pay_user_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '待付款总人数',
  `test_cases` int NULL DEFAULT NULL COMMENT '测试案例总数',
  `exec_cases` int NULL DEFAULT NULL COMMENT '测试中案例总数',
  `design_cases` int NULL DEFAULT NULL COMMENT '设计中案例总数',
  `finish_cases` int NULL DEFAULT NULL COMMENT '完成案例总数',
  `iteration_cnt` int NULL DEFAULT NULL COMMENT '迭代数',
  `product_cnt` int NULL DEFAULT NULL COMMENT '产品数',
  `min_start_time` datetime NULL DEFAULT NULL COMMENT '最早开始日期',
  `max_end_time` datetime NULL DEFAULT NULL COMMENT '最晚结束时间',
  `menu_cnt` int NULL DEFAULT NULL COMMENT '故事数',
  `menu_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成需求数，2状态需求',
  `menu_exec_cnt` int NULL DEFAULT NULL COMMENT '执行中需求数，1状态的需求',
  `menu_unstart_cnt` int NULL DEFAULT NULL COMMENT '未开始需求数，0状态数据',
  `menu_close_cnt` int NULL DEFAULT NULL COMMENT '已关闭需求数，3状态数据',
  `task_cnt` int NULL DEFAULT NULL COMMENT '任务总数',
  `task_unstart_cnt` int NULL DEFAULT NULL COMMENT '待开始任务',
  `task_exec_cnt` int NULL DEFAULT NULL COMMENT '执行中任务',
  `task_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成任务总数-来自任务表',
  `task_set_cnt` int NULL DEFAULT NULL COMMENT '已结算任务',
  `task_out_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '外购任务数，来自任务表',
  `task_close_cnt` int NULL DEFAULT NULL COMMENT '已关闭任务',
  `bug_cnt` int NULL DEFAULT NULL COMMENT 'bug数目',
  `closed_bugs` int NULL DEFAULT NULL COMMENT '已关闭bug总数',
  `resolved_bugs` int NULL DEFAULT NULL COMMENT '已解决bug总数',
  `active_bugs` int NULL DEFAULT NULL COMMENT '激活的bug总数',
  `confirmed_bugs` int NULL DEFAULT NULL COMMENT '已解决bug总数',
  `plan_workhours` decimal(10, 2) NULL DEFAULT NULL COMMENT '工期（小时）',
  `plan_worker_cnt` int NULL DEFAULT NULL COMMENT '总人数',
  `act_worker_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '实际投入人员数',
  `project_cnt` int NULL DEFAULT NULL COMMENT '项目数',
  `budget_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '预算总金额',
  `act_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '实际总金额',
  `init_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '计划预估总工时=一级计划中的init_workload汇总而来',
  `init_rate` int NULL DEFAULT NULL COMMENT '计划进度0-100之间，=实际总工时/计划预估总工时*100',
  `mact_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '非报工工时',
  `sum_act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '完成工时合计=act_workload+pmact_workload',
  `product_no` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '产品编号',
  PRIMARY KEY (`iteration_id`, `biz_date`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '项目指标日统计表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_kpi
-- ----------------------------
DROP TABLE IF EXISTS `xm_kpi`;
CREATE TABLE `xm_kpi`  (
  `project_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目编号',
  `branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '机构编码',
  `kpi_index` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '指标编号',
  `kpi_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '指标名称',
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '主键',
  `score` int NULL DEFAULT NULL COMMENT '得分0~100分',
  `score_date` datetime NULL DEFAULT NULL COMMENT '评分日期',
  `biz_flow_state` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '流程状态',
  `biz_proc_inst_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '流程实例编号',
  `kpi_value` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT 'kpi当前值',
  `remark` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '备注-要求，产物等描述',
  `calc_type` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '考核方式1每月2每季度3每半年4每年9一次性',
  `next_calc_date` datetime NULL DEFAULT NULL COMMENT '下次考核开始时间',
  `ktype` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '组织类型 1-组织级，2-部门级，3-项目级',
  `kresult` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '成果附件地址、成果描述等',
  `kstatus` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '状态0-未达成，1-已达成',
  `kfile` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否附件',
  `kclass` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT 'kpi指标分类，如预算类，成本类，进度类，利润类，字典kpk_class',
  `kadm_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '审核人编号',
  `kadm_username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '审核人名称',
  `kself_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '负责人编号',
  `kself_username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '负责人名称',
  `kself_time` datetime NULL DEFAULT NULL COMMENT '自评时间',
  `kadm_time` datetime NULL DEFAULT NULL COMMENT '审核时间',
  `target_value` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '目标值,支持一般运算表达式，如:1000>${kpIValue}>100',
  `data_link` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '数据来源字典xm_data_link,多选，逗号分隔',
  `parent_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '上级指标编号',
  `weight` int NULL DEFAULT NULL COMMENT '权重，相对上级的权重，同一个上级，所有权重不得大于100',
  `deptid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '部门编号',
  `children_cnt` int NULL DEFAULT NULL COMMENT '儿子节点个数',
  `rate_type` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '进度汇总方式1-自动，2-手工填写',
  `pid_paths` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '父级id逗号分割，最后一个为本节点节点编号,以,号结尾',
  `start_time` datetime NULL DEFAULT NULL COMMENT '考核周期开始时间',
  `end_time` datetime NULL DEFAULT NULL COMMENT '考核周期结束时间',
  `kself_score` int NULL DEFAULT NULL COMMENT '自评得分',
  `pre_ids` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '前置指标编号，最多3个，逗号分隔',
  `kadm_status` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '复评状态0-待提交，1-待复评通过，2-复评不通过,3.复评通过',
  `red_rule` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '红色预警规则,支持一般运算表达式，如:1000>${kpIValue}>100',
  `orange_rule` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '橙色预警规则,支持一般运算表达式，如:1000>${kpIValue}>100',
  `yellow_rule` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '黄色预警规则,支持一般运算表达式，如:1000>${kpIValue}>100',
  `kwarn_status` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '预警状态,0-初始，1-正常，2-黄色，3-橙色，4-红色',
  `is_tpl` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否为模板1-是，0-否',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `pid_paths`(`pid_paths` ASC) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '项目或任务关键指标考核' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_kpi_his
-- ----------------------------
DROP TABLE IF EXISTS `xm_kpi_his`;
CREATE TABLE `xm_kpi_his`  (
  `project_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目编号',
  `branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '机构编码',
  `kpi_index` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '指标编号',
  `kpi_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '指标名称',
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '主键',
  `score` int NULL DEFAULT NULL COMMENT '得分0~100分',
  `score_date` datetime NULL DEFAULT NULL COMMENT '评分日期',
  `biz_flow_state` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '流程状态',
  `biz_proc_inst_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '流程实例编号',
  `kpi_value` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT 'kpi当前值',
  `remark` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '备注-要求，产物等描述',
  `calc_type` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '考核方式1每月2每季度3每半年4每年9一次性',
  `next_calc_date` datetime NULL DEFAULT NULL COMMENT '下次考核开始时间',
  `ktype` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '组织类型 1-组织级，2-部门级，3-项目级',
  `kresult` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '成果附件地址、成果描述等',
  `kstatus` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '状态0-未达成，1-已达成',
  `kfile` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否附件',
  `kclass` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT 'kpi指标分类，如预算类，成本类，进度类，利润类，字典kpk_class',
  `kadm_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '审核人编号',
  `kadm_username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '审核人名称',
  `kself_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '负责人编号',
  `kself_username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '负责人名称',
  `kself_time` datetime NULL DEFAULT NULL COMMENT '自评时间',
  `kadm_time` datetime NOT NULL COMMENT '审核时间',
  `target_value` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '目标值,支持一般运算表达式，如:1000>${kpIValue}>100',
  `data_link` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '数据来源字典xm_data_link,多选，逗号分隔',
  `parent_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '上级指标编号',
  `weight` int NULL DEFAULT NULL COMMENT '权重，相对上级的权重，同一个上级，所有权重不得大于100',
  `deptid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '部门编号',
  `children_cnt` int NULL DEFAULT NULL COMMENT '儿子节点个数',
  `rate_type` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '进度汇总方式1-自动，2-手工填写',
  `pid_paths` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '父级id逗号分割，最后一个为本节点节点编号,以,号结尾',
  `start_time` datetime NULL DEFAULT NULL COMMENT '考核周期开始时间',
  `end_time` datetime NULL DEFAULT NULL COMMENT '考核周期结束时间',
  `kself_score` int NULL DEFAULT NULL COMMENT '自评得分',
  `pre_ids` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '前置指标编号，最多3个，逗号分隔',
  `kadm_status` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '复评状态0-待提交，1-待复评通过，2-复评不通过,3.复评通过',
  `red_rule` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '红色预警规则,支持一般运算表达式，如:1000>${kpIValue}>100',
  `orange_rule` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '橙色预警规则,支持一般运算表达式，如:1000>${kpIValue}>100',
  `yellow_rule` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '黄色预警规则,支持一般运算表达式，如:1000>${kpIValue}>100',
  `kwarn_status` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '预警状态,0-初始，1-正常，2-黄色，3-橙色，4-红色',
  `is_tpl` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否为模板1-是，0-否',
  PRIMARY KEY (`id`, `kadm_time`) USING BTREE,
  INDEX `pid_paths`(`pid_paths` ASC) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '项目或任务关键指标考核' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_menu
-- ----------------------------
DROP TABLE IF EXISTS `xm_menu`;
CREATE TABLE `xm_menu`  (
  `start_time` datetime NULL DEFAULT NULL COMMENT '开始时间',
  `menu_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '功能编号',
  `menu_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '功能名称',
  `pmenu_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '上级功能',
  `product_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '归属产品编号',
  `remark` text CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '备注',
  `status` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '状态0初始1待评审2待设计3待开发4待sit测试5待uat测试6已测试待上线7已上线8已下线9已删除',
  `online` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否已上线',
  `demand_url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '需求链接',
  `code_url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '代码链接',
  `design_url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '设计链接',
  `doc_url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '文档链接',
  `help_url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '帮助文档链接',
  `oper_doc_url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '操作手册链接',
  `seq_no` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '排序序号',
  `mm_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '故事管理员编号',
  `mm_username` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '故事管理员姓名',
  `ctime` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `ntype` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '节点类型0-叶子节点，1非叶子节点',
  `since_version` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '开始版本',
  `children_cnt` int NULL DEFAULT NULL COMMENT '儿子节点个数',
  `ltime` datetime NULL DEFAULT NULL COMMENT '更新时间',
  `tag_ids` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '标签编号,逗号分割',
  `tag_names` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '标签名称,逗号分割',
  `pid_paths` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '父级id逗号分割，最后一个为本节点节点编号,以,号结尾',
  `lvl` int NULL DEFAULT NULL COMMENT '层级0-顶级，1-一级，2-二级，3-三级，4-四级。总共5级',
  `is_tpl` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否为模板',
  `phase_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '前置需求编号，逗号分隔多个',
  `iteration_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '迭代编号',
  `source` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '需求来源1部门意见、2用户反馈、3技术反馈、4运营反馈、5团队讨论、6老板需求、7自身需求',
  `proposer_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '提出人编号',
  `proposer_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '提出人姓名',
  `dlvl` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '需求层次0-基础需求,1-增值需求,2-扩展需求',
  `dtype` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '需求类型;0-新增功能;1-功能改进;2-bug修复;3-用户体验;4-UI优化;5-内部需求;6-删除需求;7-接口需求;',
  `priority` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '优先级;0-紧急重要；1-紧急不重要；2-不紧急重要；3-不紧急不重要',
  `dclass` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '需求分类1-史诗，2-特性，3-用户故事，4-任务，5-缺陷',
  `iteration_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '迭代名称',
  `end_time` datetime NULL DEFAULT NULL COMMENT '结束时间',
  `func_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '功能菜单编号-故事才有',
  `func_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '功能菜单名称-故事才有',
  `comments` int NULL DEFAULT NULL COMMENT '评论数',
  `ups` int NULL DEFAULT NULL COMMENT '点赞数',
  `read_num` int NULL DEFAULT NULL COMMENT '阅读数',
  `pbranch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '产品归属企业',
  `sub_ef_cnt` int NULL DEFAULT NULL COMMENT '儿子节点树-不包括孙子，不包括故事',
  `sub_story_cnt` int NULL DEFAULT NULL COMMENT '儿子故事树-不包括孙子，仅仅计算故事数量',
  `calc_type` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '实际完成工时统计 1-手工填写(适合无任务的叶子计划，或者无须报工的任务),2-根据报工工时动态计算',
  PRIMARY KEY (`menu_id`) USING BTREE,
  INDEX `xm_project_menu_ibfk_1`(`product_id` ASC) USING BTREE,
  INDEX `ctime`(`ctime` ASC) USING BTREE,
  INDEX `pid_paths`(`pid_paths` ASC) USING BTREE,
  INDEX `pmenu_id`(`pmenu_id` ASC) USING BTREE,
  INDEX `iteration_id`(`iteration_id` ASC) USING BTREE,
  INDEX `mm_userid`(`mm_userid` ASC) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '用户故事(需求)表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_menu_exchange
-- ----------------------------
DROP TABLE IF EXISTS `xm_menu_exchange`;
CREATE TABLE `xm_menu_exchange`  (
  `menu_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '功能编号',
  `menu_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '功能名称',
  `product_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '归属产品编号',
  `remark` text CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '备注',
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '评论编号',
  `pid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '上级评论编号',
  `cuserid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '评论人编号',
  `cusername` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '评论人名称',
  `ctime` datetime NULL DEFAULT NULL COMMENT '评论时间',
  `cbranch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '评论人所属机构',
  `adopt` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否采纳0否1采纳',
  `adopt_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '采纳人编号',
  `adopt_username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '采纳人名称',
  `adopt_time` datetime NULL DEFAULT NULL COMMENT '采纳时间',
  `closed` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '关闭该评论0否1是',
  `puserid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '上级用户编号',
  `pusername` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '上级姓名',
  `premark` text CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '上级备注',
  `notify_userids` text CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '本评论需要同步给的人列表,逗号分隔',
  `notify_channels` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '发送通知渠道inner-email/wxpub/sms/im/out-email等逗号分割',
  `notify_usernames` text CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '通知用户姓名逗号分隔',
  `cuser_head_img` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '发言人头像地址',
  `reply_type` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '回复方式1引用2回复',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `xm_project_menu_ibfk_1`(`product_id` ASC) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '功能表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_menu_state
-- ----------------------------
DROP TABLE IF EXISTS `xm_menu_state`;
CREATE TABLE `xm_menu_state`  (
  `menu_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '功能编号',
  `finish_rate` decimal(10, 2) NULL DEFAULT NULL COMMENT '总体完成比例0-100之间,根据taskType进行汇总',
  `menu_status` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '状态0初始1设计中2开发中3测试中4uat测试2已上线3已下线4已删除',
  `ctime` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `calc_time` datetime NULL DEFAULT NULL COMMENT '汇总时间',
  `menu_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '菜单名字',
  `plan_workhours` decimal(10, 2) NULL DEFAULT NULL COMMENT '工时数',
  `plan_worker_cnt` decimal(10, 2) NULL DEFAULT NULL COMMENT '总人数',
  `closed_bugs` decimal(10, 0) NULL DEFAULT NULL COMMENT '总关闭bugs',
  `active_bugs` decimal(10, 0) NULL DEFAULT NULL COMMENT '激活bugs',
  `confirmed_bugs` decimal(10, 0) NULL DEFAULT NULL COMMENT '已确认bugs总数',
  `resolved_bugs` decimal(10, 0) NULL DEFAULT NULL COMMENT '已解决bugs总数',
  `product_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '产品编号',
  `test_cases` int NULL DEFAULT NULL COMMENT '测试案例总数-指测试库中总用例数',
  `exec_cases` int NULL DEFAULT NULL COMMENT '测试中案例总数-指有测试计划的阻塞和失败的用例总数-去重',
  `design_cases` int NULL DEFAULT NULL COMMENT '设计中案例总数-指有测试计划的未测状态的用例数-去重',
  `finish_cases` int NULL DEFAULT NULL COMMENT '完成案例总数-指有测试计划的已通过和忽略状态的用例数-去重',
  `biz_date` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '业务日期yyyy-MM-dd字符串',
  `bug_cnt` int NULL DEFAULT NULL COMMENT 'bug总数',
  `task_cnt` int NULL DEFAULT NULL COMMENT '任务总数',
  `task_unstart_cnt` int NULL DEFAULT NULL COMMENT '待开始任务',
  `task_exec_cnt` int NULL DEFAULT NULL COMMENT '执行中任务',
  `task_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成任务总数-来自任务表',
  `task_set_cnt` int NULL DEFAULT NULL COMMENT '已结算任务',
  `task_out_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '外购任务数，来自任务表',
  `task_close_cnt` int NULL DEFAULT NULL COMMENT '已关闭任务',
  `budget_nouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总非人力预算-来自任务表',
  `budget_ouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总外购人力预算-来自任务表',
  `budget_iuser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总内部人力预算-来自任务表',
  `act_user_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总人力成本',
  `act_iuser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总内部人力成本金额',
  `act_ouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总外购人力成本金额',
  `act_nouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总非人力成本',
  `budget_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总预算工作量-来自任务表任务预估工时合计',
  `budget_ouser_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '外购人力总工作量-应该大于或等于阶段计划外购人力总成本',
  `budget_iuser_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '内部人力总工作量-应该大于或等于阶段计划内部人力总成本',
  `act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '已完成工作量-来自工时明细表',
  `act_ouser_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '实际外购总工作量，来自任务表',
  `act_iuser_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '实际内部总工作量，来自任务表',
  `estimate_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '预估工时',
  `budget_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '预算金额',
  `act_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '实际金额',
  `min_start_time` datetime NULL DEFAULT NULL COMMENT '最早开始日期',
  `max_end_time` datetime NULL DEFAULT NULL COMMENT '最晚结束时间',
  `product_cnt` int NULL DEFAULT NULL COMMENT '关联产品数（主要是指子节点关联）',
  `iteration_cnt` int NULL DEFAULT NULL COMMENT '关联迭代数（主要是指子节点关联）',
  `project_cnt` int NULL DEFAULT NULL COMMENT '关联项目数（主要是指子节点关联）',
  `sub_ef_cnt` int NULL DEFAULT NULL COMMENT '儿子节点树-不包括孙子，不包括故事',
  `sub_story_cnt` int NULL DEFAULT NULL COMMENT '儿子故事树-不包括孙子，仅仅计算故事数量',
  `init_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '计划预估总工时,手填或者上级分解',
  `init_rate` int NULL DEFAULT NULL COMMENT '计划进度0-100之间，=实际总工时/计划预估总工时*100',
  `weight` int NULL DEFAULT NULL COMMENT '权重0-100之间，上级为100，儿子节点总和不超过100',
  `mact_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '手工填写本级节点独立实际工时',
  `sum_act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '实际工时汇总，=son_sum_mact_workload+mact_workload+act_workload',
  `son_sum_mact_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '下级手工工时汇总,不包括本级mact_wokload',
  `son_sum_init_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '下级预估工时汇总，不包括本级=所有儿子节点的init_workload之后',
  PRIMARY KEY (`menu_id`) USING BTREE,
  INDEX `menu_id`(`menu_id` ASC) USING BTREE,
  CONSTRAINT `xm_menu_state_ibfk_1` FOREIGN KEY (`menu_id`) REFERENCES `xm_menu` (`menu_id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '功能状态表,无需前端维护，所有数据由汇总统计得出' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_my_focus
-- ----------------------------
DROP TABLE IF EXISTS `xm_my_focus`;
CREATE TABLE `xm_my_focus`  (
  `userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '用户编号',
  `username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '用户名称',
  `biz_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '关注的对象主键',
  `focus_type` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '对象类型:项目-1/任务-2/产品-3/需求-4/bug-5/迭代6',
  `pbiz_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '对象上级编号,项目时填项目编号，任务时填项目编号，产品时填产品编号，需求时填产品编号，bug时填产品编号，迭代时填产品编号',
  `biz_name` varchar(250) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '任务名称',
  `pbiz_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '对象上级名称',
  `ftime` datetime NULL DEFAULT NULL COMMENT '关注时间',
  `ubranch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '用户归属机构',
  PRIMARY KEY (`userid`, `biz_id`, `pbiz_id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '我关注的项目或者任务' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_my_foot_print
-- ----------------------------
DROP TABLE IF EXISTS `xm_my_foot_print`;
CREATE TABLE `xm_my_foot_print`  (
  `userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '用户编号',
  `username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '用户名称',
  `biz_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '关注的对象主键',
  `focus_type` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '对象类型:项目-1/任务-2/产品-3/需求-4/bug-5',
  `pbiz_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '对象上级编号,项目时填项目编号，任务时填项目编号，产品时填产品编号，需求时填产品编号，bug时填产品编号',
  `biz_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '任务名称',
  `pbiz_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '对象上级名称',
  `ftime` datetime NULL DEFAULT NULL COMMENT '进入时间',
  `ubranch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '用户归属机构',
  `ltime` datetime NULL DEFAULT NULL COMMENT '离开时间',
  PRIMARY KEY (`userid`, `biz_id`, `pbiz_id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '我关注的项目或者任务' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_product
-- ----------------------------
DROP TABLE IF EXISTS `xm_product`;
CREATE TABLE `xm_product`  (
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '产品编号',
  `product_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '产品名称',
  `branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '机构号',
  `remark` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '备注',
  `version` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '版本号',
  `pm_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '产品经理编号',
  `pm_username` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '产品经理名称',
  `ctime` datetime NULL DEFAULT NULL COMMENT '创建日期',
  `deptid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '归属部门',
  `pstatus` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '产品阶段:0未开始,1研发中,2已完成,3已关闭',
  `start_time` datetime NULL DEFAULT NULL COMMENT '开始日期',
  `end_time` datetime NULL DEFAULT NULL COMMENT '结束日期',
  `dept_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '主管部门名称',
  `adm_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '主管领导编号',
  `adm_username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '主管领导名称',
  `ass_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '副经理编号',
  `ass_username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '副经理名称',
  `BIZ_PROC_INST_ID` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '当前流程实例编号',
  `biz_flow_state` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '当前流程状态0初始1审批中2审批通过3审批不通过4流程取消或者删除',
  `is_tpl` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否为模板',
  `baseline_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '基线编号',
  `base_time` datetime NULL DEFAULT NULL COMMENT '基线时间',
  `code` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '产品编码',
  `pbudget_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '产品预计总工作量，应该大于一级需求总预算工作量',
  `pbudget_amount` decimal(20, 2) NULL DEFAULT NULL COMMENT '产品预计总金额，应该大于一级需求总预算金额',
  `pmenu_budget_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '从需求汇总来的总预算工作量',
  `pmenu_budget_amount` decimal(20, 2) NULL DEFAULT NULL COMMENT '从需求汇总的总预算金额',
  `budget_ctrl` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否进行预算控制，计划中一级计划总预算不能大于项目预算',
  `phase_budget_ctrl` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否进行计划明细预算控制，计划中下级预算不能大于上级预算',
  `phase_act_ctrl` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '计划是否进行实际金额控制，实际金额不能大于预算金额',
  `locked` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否锁定不允许编号0否1是',
  `del` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否已删除0否一是',
  `ltime` datetime NULL DEFAULT NULL COMMENT '最后更新时间',
  `qx_code` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '权限码0,1,2,3,4,5,67,8,9，逗号分割共10位,不定长，暂时只启用前8个位第0位代表团队建立及成员管理及crud权限：    0-代表不限制,1-同组织，2-同项目组（默认），3-同小组第1位代表团队建立及成员管理及crud权限是否检查上下级关系：0-否（默认），1是 第2位代表测试相关(包括测试用例、测试库、测试计划、测试报告)指派及crud权限同第0位，第3位代表测试相关(包括测试用例、测试库、测试计划、测试报告)指派及crud时是否检查上下级关系，同第1位第4位代表需求指派及crud时权限，同第0位第5位代表需求指派及crud时是否检查上下级关系，同第1位第6位代表迭代指派及crud时权限，同第0位第7位代表迭代指派及crud时是否检查上下级关系，同第1位',
  `show_out` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否对外公开0-完全不可见，1-仅本司人员可见，2-关联人员可见（众包-外包-招投标）,3-本部门上级及下属部门可见,4-仅本部及上级可见，5-仅本部及下级可见,6-仅本部人员可见    9-不区分',
  `deptid_path` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '部门编号全路径编号',
  `create_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目创建人编号',
  `create_username` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目创建人',
  `pinit_workload` decimal(10, 2) NULL DEFAULT NULL COMMENT '计划预估工时，=由史诗、特性汇总而来，自顶向下逐层分解',
  `pinit_rate` int NULL DEFAULT NULL COMMENT '计划进度-0-100之间，=实际工时/计划预估工时*100',
  `tag_ids` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '标签编号，逗号分隔多个',
  `tpl_type` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '公开类型1-全网公开，2-本企业公开（暂时不用）',
  `from_tpl_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '关联模板编号',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `ctime`(`ctime` ASC) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '产品表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_product_project_link
-- ----------------------------
DROP TABLE IF EXISTS `xm_product_project_link`;
CREATE TABLE `xm_product_project_link`  (
  `project_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '项目表中的主键',
  `product_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '产品表中的主键',
  `ctime` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `cuserid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '创建人编号',
  `cusername` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '创建人姓名',
  `link_status` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '关联状态1关联0取消关联',
  `seq` int NULL DEFAULT NULL COMMENT '显示顺序0-999,从小到大排序',
  PRIMARY KEY (`project_id`, `product_id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '产品与项目的关联关系表，一般由产品经理挂接项目到产品上' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_product_state
-- ----------------------------
DROP TABLE IF EXISTS `xm_product_state`;
CREATE TABLE `xm_product_state`  (
  `product_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '产品编号',
  `biz_date` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '统计日期yyyy-mm-dd类型',
  `file_cnt` int NULL DEFAULT NULL COMMENT '文件数据',
  `product_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '产品名称',
  `calc_time` datetime NULL DEFAULT NULL COMMENT '统计执行日期',
  `calc_status` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '0-暂时的1稳定的，暂时的可以被覆盖，稳定的不允许覆盖',
  `phase_cnt` int NULL DEFAULT NULL COMMENT '项目阶段计划数',
  `phase_finish_cnt` int NULL DEFAULT NULL COMMENT '项目阶段计划已完成数',
  `need_pay_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '待付款总金额',
  `finish_pay_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '已付款总金额',
  `need_col_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '待收款总金额',
  `finish_col_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '已收款总金额',
  `risk_cnt` int NULL DEFAULT NULL COMMENT '项目风险总数',
  `risk_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成风险总数',
  `branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '机构编号',
  `branch_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '机构名称',
  `budget_nouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总非人力预算-来自任务表',
  `budget_ouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总外购人力预算-来自任务表',
  `budget_iuser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总内部人力预算-来自任务表',
  `act_user_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总人力成本',
  `act_iuser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总内部人力成本金额',
  `act_ouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总外购人力成本金额',
  `act_nouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总非人力成本',
  `finish_rate` decimal(10, 2) NULL DEFAULT NULL COMMENT '项目进度0~100之间，来自任务表',
  `budget_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总预算工作量-来自任务表',
  `budget_ouser_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '外购人力总工作量-应该大于或等于阶段计划外购人力总成本',
  `budget_iuser_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '内部人力总工作量-应该大于或等于阶段计划内部人力总成本',
  `estimate_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '预估工时=计划结束时间在计算当日前完成的任务的预算工时总和',
  `act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '已完成工作量-来自计划中实际完成工作量',
  `project_status` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '0|初始1|售前2|立项中3|实施中4|暂停中5|结项中6|已结项7|售后8|已完成9|已关闭',
  `act_ouser_workload` decimal(20, 0) NULL DEFAULT NULL COMMENT '实际外购总工作量，来自任务表',
  `act_iuser_workload` decimal(20, 0) NULL DEFAULT NULL COMMENT '实际内部总工作量，来自任务表',
  `need_pay_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '待付款笔数',
  `finish_pay_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '完成付款总比数',
  `finish_pay_user_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '已付款总人数',
  `need_pay_user_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '待付款总人数',
  `test_cases` int NULL DEFAULT NULL COMMENT '测试案例总数',
  `exec_cases` int NULL DEFAULT NULL COMMENT '测试中案例总数',
  `design_cases` int NULL DEFAULT NULL COMMENT '设计中案例总数',
  `finish_cases` int NULL DEFAULT NULL COMMENT '完成案例总数',
  `iteration_cnt` int NULL DEFAULT NULL COMMENT '迭代数',
  `product_cnt` int NULL DEFAULT NULL COMMENT '产品数',
  `min_start_time` datetime NULL DEFAULT NULL COMMENT '最早开始日期',
  `max_end_time` datetime NULL DEFAULT NULL COMMENT '最晚结束时间',
  `menu_cnt` int NULL DEFAULT NULL COMMENT '故事数',
  `menu_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成需求数，2状态需求',
  `menu_exec_cnt` int NULL DEFAULT NULL COMMENT '执行中需求数，1状态的需求',
  `menu_unstart_cnt` int NULL DEFAULT NULL COMMENT '未开始需求数，0状态数据',
  `menu_close_cnt` int NULL DEFAULT NULL COMMENT '已关闭需求数，3状态数据',
  `task_cnt` int NULL DEFAULT NULL COMMENT '任务总数',
  `task_unstart_cnt` int NULL DEFAULT NULL COMMENT '待开始任务',
  `task_exec_cnt` int NULL DEFAULT NULL COMMENT '执行中任务',
  `task_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成任务总数-来自任务表',
  `task_set_cnt` int NULL DEFAULT NULL COMMENT '已结算任务',
  `task_out_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '外购任务数，来自任务表',
  `task_close_cnt` int NULL DEFAULT NULL COMMENT '已关闭任务',
  `bug_cnt` int NULL DEFAULT NULL COMMENT 'bug数目',
  `closed_bugs` int NULL DEFAULT NULL COMMENT '已关闭bug总数',
  `resolved_bugs` int NULL DEFAULT NULL COMMENT '已解决bug总数',
  `active_bugs` int NULL DEFAULT NULL COMMENT '激活的bug总数',
  `confirmed_bugs` int NULL DEFAULT NULL COMMENT '已解决bug总数',
  `plan_workhours` decimal(10, 2) NULL DEFAULT NULL COMMENT '工期（小时）',
  `plan_worker_cnt` int NULL DEFAULT NULL COMMENT '总人数',
  `act_worker_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '实际投入人员数',
  `project_cnt` int NULL DEFAULT NULL COMMENT '项目数',
  `budget_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '预算总金额',
  `act_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '实际总金额',
  `init_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '计划预估总工时=一级计划中的init_workload汇总而来',
  `init_rate` int NULL DEFAULT NULL COMMENT '计划进度0-100之间，=实际总工时/计划预估总工时*100',
  `mact_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '非报工工时',
  `sum_act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '完成工时合计=act_workload+pmact_workload',
  PRIMARY KEY (`product_id`) USING BTREE,
  CONSTRAINT `xm_product_state_ibfk_1` FOREIGN KEY (`product_id`) REFERENCES `xm_product` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '项目指标日统计表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_product_state_his
-- ----------------------------
DROP TABLE IF EXISTS `xm_product_state_his`;
CREATE TABLE `xm_product_state_his`  (
  `product_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '产品编号',
  `biz_date` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '统计日期yyyy-mm-dd类型',
  `file_cnt` int NULL DEFAULT NULL COMMENT '文件数据',
  `product_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '产品名称',
  `calc_time` datetime NULL DEFAULT NULL COMMENT '统计执行日期',
  `calc_status` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '0-暂时的1稳定的，暂时的可以被覆盖，稳定的不允许覆盖',
  `phase_cnt` int NULL DEFAULT NULL COMMENT '项目阶段计划数',
  `phase_finish_cnt` int NULL DEFAULT NULL COMMENT '项目阶段计划已完成数',
  `need_pay_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '待付款总金额',
  `finish_pay_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '已付款总金额',
  `need_col_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '待收款总金额',
  `finish_col_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '已收款总金额',
  `risk_cnt` int NULL DEFAULT NULL COMMENT '项目风险总数',
  `risk_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成风险总数',
  `branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '机构编号',
  `branch_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '机构名称',
  `budget_nouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总非人力预算-来自任务表',
  `budget_ouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总外购人力预算-来自任务表',
  `budget_iuser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总内部人力预算-来自任务表',
  `act_user_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总人力成本',
  `act_iuser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总内部人力成本金额',
  `act_ouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总外购人力成本金额',
  `act_nouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总非人力成本',
  `finish_rate` decimal(10, 2) NULL DEFAULT NULL COMMENT '项目进度0~100之间，来自任务表',
  `budget_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总预算工作量-来自任务表',
  `budget_ouser_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '外购人力总工作量-应该大于或等于阶段计划外购人力总成本',
  `budget_iuser_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '内部人力总工作量-应该大于或等于阶段计划内部人力总成本',
  `estimate_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '预估工时=计划结束时间在计算当日前完成的任务的预算工时总和',
  `act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '已完成工作量-来自计划中实际完成工作量',
  `project_status` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '0|初始1|售前2|立项中3|实施中4|暂停中5|结项中6|已结项7|售后8|已完成9|已关闭',
  `act_ouser_workload` decimal(20, 0) NULL DEFAULT NULL COMMENT '实际外购总工作量，来自任务表',
  `act_iuser_workload` decimal(20, 0) NULL DEFAULT NULL COMMENT '实际内部总工作量，来自任务表',
  `need_pay_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '待付款笔数',
  `finish_pay_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '完成付款总比数',
  `finish_pay_user_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '已付款总人数',
  `need_pay_user_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '待付款总人数',
  `test_cases` int NULL DEFAULT NULL COMMENT '测试案例总数',
  `exec_cases` int NULL DEFAULT NULL COMMENT '测试中案例总数',
  `design_cases` int NULL DEFAULT NULL COMMENT '设计中案例总数',
  `finish_cases` int NULL DEFAULT NULL COMMENT '完成案例总数',
  `iteration_cnt` int NULL DEFAULT NULL COMMENT '迭代数',
  `product_cnt` int NULL DEFAULT NULL COMMENT '产品数',
  `min_start_time` datetime NULL DEFAULT NULL COMMENT '最早开始日期',
  `max_end_time` datetime NULL DEFAULT NULL COMMENT '最晚结束时间',
  `menu_cnt` int NULL DEFAULT NULL COMMENT '故事数',
  `menu_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成需求数，2状态需求',
  `menu_exec_cnt` int NULL DEFAULT NULL COMMENT '执行中需求数，1状态的需求',
  `menu_unstart_cnt` int NULL DEFAULT NULL COMMENT '未开始需求数，0状态数据',
  `menu_close_cnt` int NULL DEFAULT NULL COMMENT '已关闭需求数，3状态数据',
  `task_cnt` int NULL DEFAULT NULL COMMENT '任务总数',
  `task_unstart_cnt` int NULL DEFAULT NULL COMMENT '待开始任务',
  `task_exec_cnt` int NULL DEFAULT NULL COMMENT '执行中任务',
  `task_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成任务总数-来自任务表',
  `task_set_cnt` int NULL DEFAULT NULL COMMENT '已结算任务',
  `task_out_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '外购任务数，来自任务表',
  `task_close_cnt` int NULL DEFAULT NULL COMMENT '已关闭任务',
  `bug_cnt` int NULL DEFAULT NULL COMMENT 'bug数目',
  `closed_bugs` int NULL DEFAULT NULL COMMENT '已关闭bug总数',
  `resolved_bugs` int NULL DEFAULT NULL COMMENT '已解决bug总数',
  `active_bugs` int NULL DEFAULT NULL COMMENT '激活的bug总数',
  `confirmed_bugs` int NULL DEFAULT NULL COMMENT '已解决bug总数',
  `plan_workhours` decimal(10, 2) NULL DEFAULT NULL COMMENT '工期（小时）',
  `plan_worker_cnt` int NULL DEFAULT NULL COMMENT '总人数',
  `act_worker_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '实际投入人员数',
  `project_cnt` int NULL DEFAULT NULL COMMENT '项目数',
  `budget_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '预算总金额',
  `act_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '实际总金额',
  `init_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '计划预估总工时=一级计划中的init_workload汇总而来',
  `init_rate` int NULL DEFAULT NULL COMMENT '计划进度0-100之间，=实际总工时/计划预估总工时*100',
  `mact_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '非报工工时',
  `sum_act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '完成工时合计=act_workload+pmact_workload',
  PRIMARY KEY (`product_id`, `biz_date`) USING BTREE,
  CONSTRAINT `xm_product_state_his_ibfk_1` FOREIGN KEY (`product_id`) REFERENCES `xm_product` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '项目指标日统计表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_product_version
-- ----------------------------
DROP TABLE IF EXISTS `xm_product_version`;
CREATE TABLE `xm_product_version`  (
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '版本号',
  `remark` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '版本描述',
  `product_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '产品编号',
  `vstatus` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '版本状态0-未开始，1-进行中，2-已发布',
  `vrate` int NULL DEFAULT NULL COMMENT '进度0-100之间',
  `ptime` datetime NULL DEFAULT NULL COMMENT '发布时间',
  `start_time` datetime NULL DEFAULT NULL COMMENT '开始时间',
  `end_time` datetime NULL DEFAULT NULL COMMENT '结束时间',
  `adm_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '负责人',
  `adm_username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '负责人姓名',
  `ctime` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '版本名称',
  PRIMARY KEY (`product_id`, `id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '产品版本编号' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_project
-- ----------------------------
DROP TABLE IF EXISTS `xm_project`;
CREATE TABLE `xm_project`  (
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '项目编号',
  `code` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目代号',
  `name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目名称',
  `xm_type` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目类型',
  `start_time` datetime NULL DEFAULT NULL COMMENT '项目开始时间',
  `end_time` datetime NULL DEFAULT NULL COMMENT '项目结束时间',
  `urgent` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '紧急程度',
  `priority` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '优先程度',
  `description` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目描述',
  `create_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目创建人编号',
  `create_username` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目创建人',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `assess` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目考核',
  `assess_remarks` mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '考核备注',
  `status` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '0|初始1|售前2|立项中3|实施中4|暂停中5|结项中6|已结项7|售后8|已完成9|已关闭',
  `branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '机构编号',
  `plan_total_cost` decimal(10, 2) NULL DEFAULT NULL COMMENT '总预算',
  `BIZ_PROC_INST_ID` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '当前流程实例编号',
  `biz_flow_state` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '当前流程状态0初始1审批中2审批通过3审批不通过4流程取消或者删除',
  `plan_nouser_at` decimal(10, 2) NULL DEFAULT NULL COMMENT '非人力成本总预算-应该大于或等于阶段计划非人力总成本',
  `plan_iuser_at` decimal(10, 2) NULL DEFAULT NULL COMMENT '内部人力成本总预算-应该大于或等于阶段计划内部人力总成本',
  `plan_ouser_at` decimal(10, 2) NULL DEFAULT NULL COMMENT '外购人力成本总预算-应该大于或等于阶段计划外购人力总成本',
  `locked` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否锁定整个项目不允许变化0否1是',
  `base_time` datetime NULL DEFAULT NULL COMMENT '基线时间',
  `base_remark` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '基线备注',
  `baseline_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '基线主键',
  `plan_workload` decimal(10, 2) NULL DEFAULT NULL COMMENT '总预算工作量-应该大于或等于阶段计划总工作量',
  `total_receivables` decimal(10, 2) NULL DEFAULT NULL COMMENT '总预计收款金额',
  `budget_margin_rate` decimal(10, 2) NULL DEFAULT NULL COMMENT '预估毛利率 (总预估收入-总预估费用)/总预估收入 0-100之间',
  `contract_amt` decimal(10, 2) NULL DEFAULT NULL COMMENT '合同总金额',
  `plan_iuser_price` decimal(10, 2) NULL DEFAULT NULL COMMENT '内部人力成本单价元/人时',
  `plan_ouser_price` decimal(10, 2) NULL DEFAULT NULL COMMENT '外购人力成本单价元/人时',
  `plan_ouser_cnt` int NULL DEFAULT NULL COMMENT '外购人数',
  `plan_iuser_cnt` int NULL DEFAULT NULL COMMENT '内部人数',
  `plan_working_hours` int NULL DEFAULT NULL COMMENT '预计工作小时数目',
  `tax_rate` decimal(10, 2) NULL DEFAULT NULL COMMENT '税率0-100之间',
  `plan_iuser_workload` decimal(10, 2) NULL DEFAULT NULL COMMENT '内部人力总工作量-应该大于或等于阶段计划内部人力总成本',
  `plan_ouser_workload` decimal(10, 2) NULL DEFAULT NULL COMMENT '外购人力总工作量-应该大于或等于阶段计划外购人力总成本',
  `from_tpl_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '关联模板编号',
  `budget_ctrl` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否进行预算控制，计划中一级计划总预算大于项目预算则拒绝添加计划,一般用于瀑布型项目',
  `deptid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '部门编号',
  `show_out` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否对外公开0-完全不可见，1-仅本司人员可见，2-关联人员可见（众包-外包-招投标）,3-本部门上级及下属部门可见,4-仅本部及上级可见，5-仅本部及下级可见,6-仅本部人员可见    9-不区分',
  `is_tpl` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否为模板',
  `pm_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目经理编号',
  `pm_username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目经理名称',
  `ass_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '助理、副经理编号',
  `ass_username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '助理、副经理姓名',
  `adm_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '主管领导编号',
  `adm_username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '主管领导姓名',
  `budget_early` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否进行计划预算预警，计划预算超出项目预算既定额度进行预警',
  `phase_act_ctrl` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '计划是否进行实际金额控制，实际金额不能大于预算金额（大于预算金额不得结算）',
  `del` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否已删除0否1是',
  `ltime` datetime NULL DEFAULT NULL COMMENT '最后更新时间',
  `ostatus` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '原状态，暂停时记录原状态，暂停恢复后把原状态恢复',
  `work_type` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '工作方式1-scrum、2-kanban',
  `wtype` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '报工方式0-无须报工，1-每日报工，2-工期内报工',
  `early_amt` decimal(10, 2) NULL DEFAULT NULL COMMENT '超出预算金额多少金额进行预警，正数代表超出的额度，负数代表距离预算的额度',
  `max_task_amt` decimal(10, 2) NULL DEFAULT NULL COMMENT '单个任务最大金额',
  `menu_link` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '任务是否必须严格关联用户故事，0不限制，1必须关联，2-完全不关联',
  `phase_link` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '任务是否必须关联计划，0-不限制，1必须关联，2完全不关联',
  `tpl_type` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '模板类型1-全域公开，2-本机构公开（暂时不用）',
  `qx_code` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '权限码0,1,2,3,4,5,67,8,9，逗号分割共10位,不定长，暂时只启用前6个位第0位代表团队建立及成员管理及crud权限：    0-代表不限制,1-同组织，2-同项目组（默认），3-同小组第1位代表团队建立及成员管理及crud权限是否检查上下级关系：0-否（默认），1是 第2位代表测试指派及crud时权限，同第0位第3位代表测试指派及crud时是否检查上下级关系，同第1位第4位代表任务指派及crud时权限，同第0位第5位代表任务指派及crud时是否检查上下级关系，同第1位',
  `deptid_path` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '部门编号全路径编号',
  `tag_ids` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '标签号码,逗号分隔多个',
  `curr_phase` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '当前项目所处管理节点，字典projectPhasePlansXXX',
  `open_kpi` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否开启kpi,0-否，1-是，开启后项目结项时做统计kpi的达成情况',
  `kpi_status` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT 'kpi考核是否通过，0-否，1是',
  `act_start_time` datetime NULL DEFAULT NULL COMMENT '实际开始',
  `act_end_time` datetime NULL DEFAULT NULL COMMENT '实际结束时间',
  `flow_fields` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '需要审核的变更字段编码,逗号分隔，驼峰命名，如f1,f2,f3',
  `tsrc` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '技术来源，字典tsrc，1-自由技术，2-引进新技术再创新，3-院校合作研发，4-其它企业技术',
  `gain` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '成果,字典gain,1-新产品，2-新技术，3-新工艺',
  `setup_remark` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '立项说明',
  `target` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '研发目标说明',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `create_time`(`create_time` ASC) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '项目表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_project_bline
-- ----------------------------
DROP TABLE IF EXISTS `xm_project_bline`;
CREATE TABLE `xm_project_bline`  (
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '项目编号',
  `code` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目代号',
  `name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目名称',
  `xm_type` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目类型',
  `start_time` datetime NULL DEFAULT NULL COMMENT '项目开始时间',
  `end_time` datetime NULL DEFAULT NULL COMMENT '项目结束时间',
  `urgent` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '紧急程度',
  `priority` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '优先程度',
  `description` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目描述',
  `create_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目创建人编号',
  `create_username` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目创建人',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `assess` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目考核',
  `assess_remarks` mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '考核备注',
  `status` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '0|初始1|售前2|立项中3|实施中4|暂停中5|结项中6|已结项7|售后8|已完成9|已关闭',
  `branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '机构编号',
  `plan_total_cost` decimal(10, 2) NULL DEFAULT NULL COMMENT '总预算',
  `BIZ_PROC_INST_ID` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '当前流程实例编号',
  `biz_flow_state` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '当前流程状态0初始1审批中2审批通过3审批不通过4流程取消或者删除',
  `plan_nouser_at` decimal(10, 2) NULL DEFAULT NULL COMMENT '非人力成本总预算-应该大于或等于阶段计划非人力总成本',
  `plan_iuser_at` decimal(10, 2) NULL DEFAULT NULL COMMENT '内部人力成本总预算-应该大于或等于阶段计划内部人力总成本',
  `plan_ouser_at` decimal(10, 2) NULL DEFAULT NULL COMMENT '外购人力成本总预算-应该大于或等于阶段计划外购人力总成本',
  `locked` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否锁定整个项目不允许变化0否1是',
  `base_time` datetime NULL DEFAULT NULL COMMENT '基线时间',
  `base_remark` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '基线备注',
  `baseline_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '基线主键',
  `plan_workload` decimal(10, 2) NULL DEFAULT NULL COMMENT '总预算工作量-应该大于或等于阶段计划总工作量',
  `total_receivables` decimal(10, 2) NULL DEFAULT NULL COMMENT '总预计收款金额',
  `budget_margin_rate` decimal(10, 2) NULL DEFAULT NULL COMMENT '预估毛利率 (总预估收入-总预估费用)/总预估收入 0-100之间',
  `contract_amt` decimal(10, 2) NULL DEFAULT NULL COMMENT '合同总金额',
  `plan_iuser_price` decimal(10, 2) NULL DEFAULT NULL COMMENT '内部人力成本单价元/人时',
  `plan_ouser_price` decimal(10, 2) NULL DEFAULT NULL COMMENT '外购人力成本单价元/人时',
  `plan_ouser_cnt` int NULL DEFAULT NULL COMMENT '外购人数',
  `plan_iuser_cnt` int NULL DEFAULT NULL COMMENT '内部人数',
  `plan_working_hours` int NULL DEFAULT NULL COMMENT '预计工作小时数目',
  `tax_rate` decimal(10, 2) NULL DEFAULT NULL COMMENT '税率0-100之间',
  `plan_iuser_workload` decimal(10, 2) NULL DEFAULT NULL COMMENT '内部人力总工作量-应该大于或等于阶段计划内部人力总成本',
  `plan_ouser_workload` decimal(10, 2) NULL DEFAULT NULL COMMENT '外购人力总工作量-应该大于或等于阶段计划外购人力总成本',
  `from_tpl_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '关联模板编号',
  `budget_ctrl` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否进行预算控制，计划中一级计划总预算大于项目预算则拒绝添加计划,一般用于瀑布型项目',
  `deptid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '部门编号',
  `show_out` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否对外公开0-完全不可见，1-仅本司人员可见，2-关联人员可见（众包-外包-招投标）,3-本部门上级及下属部门可见,4-仅本部及上级可见，5-仅本部及下级可见,6-仅本部人员可见    9-不区分',
  `is_tpl` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否为模板',
  `pm_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目经理编号',
  `pm_username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目经理名称',
  `ass_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '助理、副经理编号',
  `ass_username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '助理、副经理姓名',
  `adm_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '主管领导编号',
  `adm_username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '主管领导姓名',
  `budget_early` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否进行计划预算预警，计划预算超出项目预算既定额度进行预警',
  `phase_act_ctrl` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '计划是否进行实际金额控制，实际金额不能大于预算金额（大于预算金额不得结算）',
  `del` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否已删除0否1是',
  `ltime` datetime NULL DEFAULT NULL COMMENT '最后更新时间',
  `ostatus` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '原状态，暂停时记录原状态，暂停恢复后把原状态恢复',
  `work_type` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '工作方式1-scrum、2-kanban',
  `wtype` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '报工方式0-无须报工，1-每日报工，2-工期内报工',
  `early_amt` decimal(10, 2) NULL DEFAULT NULL COMMENT '超出预算金额多少金额进行预警，正数代表超出的额度，负数代表距离预算的额度',
  `max_task_amt` decimal(10, 2) NULL DEFAULT NULL COMMENT '单个任务最大金额',
  `menu_link` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '任务是否必须严格关联用户故事，0不限制，1必须关联，2-完全不关联',
  `phase_link` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '任务是否必须关联计划，0-不限制，1必须关联，2完全不关联',
  `tpl_type` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '模板类型1-全域公开，2-本机构公开',
  `qx_code` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '权限码0,1,2,3,4,5,67,8,9，逗号分割共10位,不定长，暂时只启用前6个位第0位代表团队建立及成员管理及crud权限：    0-代表不限制,1-同组织，2-同项目组（默认），3-同小组第1位代表团队建立及成员管理及crud权限是否检查上下级关系：0-否（默认），1是 第2位代表测试指派及crud时权限，同第0位第3位代表测试指派及crud时是否检查上下级关系，同第1位第4位代表任务指派及crud时权限，同第0位第5位代表任务指派及crud时是否检查上下级关系，同第1位',
  `deptid_path` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '部门编号全路径编号',
  `tag_ids` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '标签号码,逗号分隔多个',
  `curr_phase` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '当前项目所处管理节点，字典projectPhasePlansXXX',
  `open_kpi` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否开启kpi,0-否，1-是，开启后项目结项时做统计kpi的达成情况',
  `kpi_status` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT 'kpi考核是否通过，0-否，1是',
  `act_start_time` datetime NULL DEFAULT NULL COMMENT '实际开始',
  `act_end_time` datetime NULL DEFAULT NULL COMMENT '实际结束时间',
  `flow_fields` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '需要审核的变更字段编码,逗号分隔，驼峰命名，如f1,f2,f3',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `create_time`(`create_time` ASC) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '项目表-基线表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_project_env_list
-- ----------------------------
DROP TABLE IF EXISTS `xm_project_env_list`;
CREATE TABLE `xm_project_env_list`  (
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '主键',
  `remark` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '备注说明',
  `ip_address` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT 'ip地址',
  `port` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '访问端口',
  `project_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '归属项目组',
  `project_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '归属项目组名称',
  `access_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '访问用户编号',
  `access_password` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '访问密码',
  `effect` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '作用说明',
  `access_url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '访问链接',
  `web_ip_address` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '外网ip地址',
  `web_port` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '外网端口',
  `other_remark` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '其它说明',
  `create_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '添加人员',
  `create_username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '添加人员姓名',
  `create_time` datetime NULL DEFAULT NULL COMMENT '添加时间',
  `BIZ_PROC_INST_ID` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '当前流程实例编号',
  `biz_flow_state` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '当前流程状态0初始1审批中2审批通过3审批不通过4流程取消或者删除',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '项目环境清单' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_project_state
-- ----------------------------
DROP TABLE IF EXISTS `xm_project_state`;
CREATE TABLE `xm_project_state`  (
  `project_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '项目编号',
  `biz_date` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '统计日期yyyy-mm-dd类型',
  `file_cnt` int NULL DEFAULT NULL COMMENT '文件数据',
  `project_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目名称',
  `calc_time` datetime NULL DEFAULT NULL COMMENT '统计执行日期',
  `calc_status` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '0-暂时的1稳定的，暂时的可以被覆盖，稳定的不允许覆盖',
  `phase_cnt` int NULL DEFAULT NULL COMMENT '项目阶段计划数',
  `phase_finish_cnt` int NULL DEFAULT NULL COMMENT '项目阶段计划已完成数',
  `need_pay_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '待付款总金额',
  `finish_pay_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '已付款总金额',
  `need_col_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '待收款总金额',
  `finish_col_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '已收款总金额',
  `risk_cnt` int NULL DEFAULT NULL COMMENT '项目风险总数',
  `risk_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成风险总数',
  `branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '机构编号',
  `branch_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '机构名称',
  `budget_nouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总非人力预算-来自任务表',
  `budget_ouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总外购人力预算-来自任务表',
  `budget_iuser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总内部人力预算-来自任务表',
  `act_user_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总人力成本',
  `act_iuser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总内部人力成本金额',
  `act_ouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总外购人力成本金额',
  `act_nouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总非人力成本',
  `finish_rate` decimal(10, 2) NULL DEFAULT NULL COMMENT '项目进度0~100之间，来自任务表',
  `budget_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总预算工作量-来自任务表',
  `budget_ouser_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '外购人力总工作量-应该大于或等于阶段计划外购人力总成本',
  `budget_iuser_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '内部人力总工作量-应该大于或等于阶段计划内部人力总成本',
  `estimate_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '预估工时=计划结束时间在计算当日前完成的任务的预算工时总和',
  `act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '已完成工作量-来自计划中实际完成工作量',
  `project_status` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '0|初始1|售前2|立项中3|实施中4|暂停中5|结项中6|已结项7|售后8|已完成9|已关闭',
  `act_ouser_workload` decimal(20, 0) NULL DEFAULT NULL COMMENT '实际外购总工作量，来自任务表',
  `act_iuser_workload` decimal(20, 0) NULL DEFAULT NULL COMMENT '实际内部总工作量，来自任务表',
  `need_pay_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '待付款笔数',
  `finish_pay_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '完成付款总比数',
  `finish_pay_user_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '已付款总人数',
  `need_pay_user_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '待付款总人数',
  `test_cases` int NULL DEFAULT NULL COMMENT '测试案例总数',
  `exec_cases` int NULL DEFAULT NULL COMMENT '测试中案例总数',
  `design_cases` int NULL DEFAULT NULL COMMENT '设计中案例总数',
  `finish_cases` int NULL DEFAULT NULL COMMENT '完成案例总数',
  `iteration_cnt` int NULL DEFAULT NULL COMMENT '迭代数',
  `product_cnt` int NULL DEFAULT NULL COMMENT '产品数',
  `min_start_time` datetime NULL DEFAULT NULL COMMENT '最早开始日期',
  `max_end_time` datetime NULL DEFAULT NULL COMMENT '最晚结束时间',
  `menu_cnt` int NULL DEFAULT NULL COMMENT '故事数',
  `menu_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成需求数，2状态需求',
  `menu_exec_cnt` int NULL DEFAULT NULL COMMENT '执行中需求数，1状态的需求',
  `menu_unstart_cnt` int NULL DEFAULT NULL COMMENT '未开始需求数，0状态数据',
  `menu_close_cnt` int NULL DEFAULT NULL COMMENT '已关闭需求数，3状态数据',
  `task_cnt` int NULL DEFAULT NULL COMMENT '任务总数',
  `task_unstart_cnt` int NULL DEFAULT NULL COMMENT '待开始任务',
  `task_exec_cnt` int NULL DEFAULT NULL COMMENT '执行中任务',
  `task_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成任务总数-来自任务表',
  `task_set_cnt` int NULL DEFAULT NULL COMMENT '已结算任务',
  `task_out_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '外购任务数，来自任务表',
  `task_close_cnt` int NULL DEFAULT NULL COMMENT '已关闭任务',
  `bug_cnt` int NULL DEFAULT NULL COMMENT 'bug数目',
  `closed_bugs` int NULL DEFAULT NULL COMMENT '已关闭bug总数',
  `resolved_bugs` int NULL DEFAULT NULL COMMENT '已解决bug总数',
  `active_bugs` int NULL DEFAULT NULL COMMENT '激活的bug总数',
  `confirmed_bugs` int NULL DEFAULT NULL COMMENT '已解决bug总数',
  `plan_workhours` decimal(10, 2) NULL DEFAULT NULL COMMENT '工期（小时）',
  `plan_worker_cnt` int NULL DEFAULT NULL COMMENT '总人数',
  `act_worker_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '实际投入人员数',
  `budget_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '预算总金额',
  `act_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '实际总金额',
  `init_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '计划预估总工时=一级计划中的init_workload汇总而来',
  `init_rate` int NULL DEFAULT NULL COMMENT '计划进度0-100之间，=实际总工时/计划预估总工时*100',
  `mact_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '非报工工时',
  `sum_act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '完成工时合计=act_workload+pmact_workload',
  `baseline_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '基线编号',
  PRIMARY KEY (`project_id`) USING BTREE,
  CONSTRAINT `xm_project_state_ibfk_1` FOREIGN KEY (`project_id`) REFERENCES `xm_project` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '项目指标日统计表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_project_state_his
-- ----------------------------
DROP TABLE IF EXISTS `xm_project_state_his`;
CREATE TABLE `xm_project_state_his`  (
  `project_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '项目编号',
  `biz_date` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '统计日期yyyy-mm-dd类型',
  `file_cnt` int NULL DEFAULT NULL COMMENT '文件数据',
  `project_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目名称',
  `calc_time` datetime NULL DEFAULT NULL COMMENT '统计执行日期',
  `calc_status` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '0-暂时的1稳定的，暂时的可以被覆盖，稳定的不允许覆盖',
  `phase_cnt` int NULL DEFAULT NULL COMMENT '项目阶段计划数',
  `phase_finish_cnt` int NULL DEFAULT NULL COMMENT '项目阶段计划已完成数',
  `need_pay_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '待付款总金额',
  `finish_pay_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '已付款总金额',
  `need_col_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '待收款总金额',
  `finish_col_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '已收款总金额',
  `risk_cnt` int NULL DEFAULT NULL COMMENT '项目风险总数',
  `risk_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成风险总数',
  `branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '机构编号',
  `branch_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '机构名称',
  `budget_nouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总非人力预算-来自任务表',
  `budget_ouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总外购人力预算-来自任务表',
  `budget_iuser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总内部人力预算-来自任务表',
  `act_user_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总人力成本',
  `act_iuser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总内部人力成本金额',
  `act_ouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总外购人力成本金额',
  `act_nouser_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总非人力成本',
  `finish_rate` decimal(10, 2) NULL DEFAULT NULL COMMENT '项目进度0~100之间，来自任务表',
  `budget_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '项目总预算工作量-来自任务表',
  `budget_ouser_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '外购人力总工作量-应该大于或等于阶段计划外购人力总成本',
  `budget_iuser_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '内部人力总工作量-应该大于或等于阶段计划内部人力总成本',
  `estimate_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '预估工时=计划结束时间在计算当日前完成的任务的预算工时总和',
  `act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '已完成工作量-来自计划中实际完成工作量',
  `project_status` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '0|初始1|售前2|立项中3|实施中4|暂停中5|结项中6|已结项7|售后8|已完成9|已关闭',
  `act_ouser_workload` decimal(20, 0) NULL DEFAULT NULL COMMENT '实际外购总工作量，来自任务表',
  `act_iuser_workload` decimal(20, 0) NULL DEFAULT NULL COMMENT '实际内部总工作量，来自任务表',
  `need_pay_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '待付款笔数',
  `finish_pay_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '完成付款总比数',
  `finish_pay_user_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '已付款总人数',
  `need_pay_user_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '待付款总人数',
  `test_cases` int NULL DEFAULT NULL COMMENT '测试案例总数',
  `exec_cases` int NULL DEFAULT NULL COMMENT '测试中案例总数',
  `design_cases` int NULL DEFAULT NULL COMMENT '设计中案例总数',
  `finish_cases` int NULL DEFAULT NULL COMMENT '完成案例总数',
  `iteration_cnt` int NULL DEFAULT NULL COMMENT '迭代数',
  `product_cnt` int NULL DEFAULT NULL COMMENT '产品数',
  `min_start_time` datetime NULL DEFAULT NULL COMMENT '最早开始日期',
  `max_end_time` datetime NULL DEFAULT NULL COMMENT '最晚结束时间',
  `menu_cnt` int NULL DEFAULT NULL COMMENT '故事数',
  `menu_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成需求数，2状态需求',
  `menu_exec_cnt` int NULL DEFAULT NULL COMMENT '执行中需求数，1状态的需求',
  `menu_unstart_cnt` int NULL DEFAULT NULL COMMENT '未开始需求数，0状态数据',
  `menu_close_cnt` int NULL DEFAULT NULL COMMENT '已关闭需求数，3状态数据',
  `task_cnt` int NULL DEFAULT NULL COMMENT '任务总数',
  `task_unstart_cnt` int NULL DEFAULT NULL COMMENT '待开始任务',
  `task_exec_cnt` int NULL DEFAULT NULL COMMENT '执行中任务',
  `task_finish_cnt` int NULL DEFAULT NULL COMMENT '已完成任务总数-来自任务表',
  `task_set_cnt` int NULL DEFAULT NULL COMMENT '已结算任务',
  `task_out_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '外购任务数，来自任务表',
  `task_close_cnt` int NULL DEFAULT NULL COMMENT '已关闭任务',
  `bug_cnt` int NULL DEFAULT NULL COMMENT 'bug数目',
  `closed_bugs` int NULL DEFAULT NULL COMMENT '已关闭bug总数',
  `resolved_bugs` int NULL DEFAULT NULL COMMENT '已解决bug总数',
  `active_bugs` int NULL DEFAULT NULL COMMENT '激活的bug总数',
  `confirmed_bugs` int NULL DEFAULT NULL COMMENT '已解决bug总数',
  `plan_workhours` decimal(10, 2) NULL DEFAULT NULL COMMENT '工期（小时）',
  `plan_worker_cnt` int NULL DEFAULT NULL COMMENT '总人数',
  `act_worker_cnt` decimal(10, 0) NULL DEFAULT NULL COMMENT '实际投入人员数',
  `budget_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '预算总金额',
  `act_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '实际总金额',
  `init_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '计划预估总工时=一级计划中的init_workload汇总而来',
  `init_rate` int NULL DEFAULT NULL COMMENT '计划进度0-100之间，=实际总工时/计划预估总工时*100',
  `mact_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '非报工工时',
  `sum_act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '完成工时合计=act_workload+pmact_workload',
  `baseline_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '基线编号',
  PRIMARY KEY (`project_id`, `biz_date`) USING BTREE,
  CONSTRAINT `xm_project_state_his_ibfk_1` FOREIGN KEY (`project_id`) REFERENCES `xm_project` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '项目指标日统计表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_question
-- ----------------------------
DROP TABLE IF EXISTS `xm_question`;
CREATE TABLE `xm_question`  (
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '问题编号',
  `name` varchar(250) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '问题标题',
  `project_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '项目编号',
  `project_name` varchar(250) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目名称',
  `case_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '测试案例编号',
  `case_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '测试案例名称',
  `end_time` datetime NULL DEFAULT NULL COMMENT '到期时间',
  `ask_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '提出人编号',
  `ask_username` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '提出人',
  `handler_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '处理人编号',
  `handler_username` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '处理人',
  `priority` char(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '优先级别1-非常紧急，2-紧急，3-一般紧急，4-低',
  `solution` char(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '解决方案: 1设计如此、2重复BUG、3外部原因、4已解决、5无法重现、6延期处理、 7不予解决。',
  `description` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '问题描述',
  `create_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '问题创建人编号',
  `create_username` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '问题创建人',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `bug_status` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '缺陷状态1|新提交2|处理中3|已修复4|已挂起5|已提测6|已拒绝7|已解决8|已关闭9|重新打开',
  `BIZ_PROC_INST_ID` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '当前流程实例编号',
  `biz_flow_state` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '当前流程状态0初始1审批中2审批通过3审批不通过4流程取消或者删除',
  `menu_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '故事编号',
  `menu_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '故事名称',
  `budget_workload` decimal(10, 2) NULL DEFAULT NULL COMMENT '预估工时单位人时',
  `budget_at` decimal(10, 2) NULL DEFAULT NULL COMMENT '预估成本金额',
  `act_workload` decimal(10, 2) NULL DEFAULT NULL COMMENT '实际工时（取报工实际工时汇总）',
  `act_at` decimal(10, 2) NULL DEFAULT NULL COMMENT '实际总金额',
  `expect_result` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '期望结果',
  `op_step` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '测试步骤[{id:,op:,eresult:,aresult:,tcode:测试结果代码}]',
  `curr_result` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '当前结果',
  `ref_require` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '相关需求',
  `bug_severity` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '严重程度1、2、3、4，分别对应：致命缺陷、严重缺陷、普通缺陷、轻微缺陷',
  `bug_type` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '缺陷类型1、2、3、4，分别对应：代码错误、低级缺陷、设计缺陷、配置相关、安全相关、性能问题、其他',
  `tag_ids` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '标签id列表逗号分隔',
  `tag_names` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '标签名称列表逗号分隔',
  `urls` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '链接地址列表逗号分隔',
  `ltime` datetime NULL DEFAULT NULL COMMENT '最后更新时间',
  `qtype` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '问题类型2-风险、1-功能问题、3-普通咨询、（暂时不用这个字段了）',
  `case_exec_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '关联的案例执行编号，作废',
  `remarks` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '最后更新说明',
  `product_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '产品编号',
  `rep_rate` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '复现频率1-必现，2-大概率复现，3-小概率复现，4-仅出现一次',
  `ver_num` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '版本号',
  `vpath` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '访问路径/斜杠分割',
  `pver_num` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '发布版本',
  `bug_reason` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '原因分析',
  `rate` int NULL DEFAULT NULL COMMENT '进度0-100',
  `init_workload` decimal(10, 2) NULL DEFAULT NULL COMMENT '原始预估工作量，budget_workload发生变化后，进行备份',
  `task_out` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否众包0否1是',
  `task_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '任务编号-可以在任务下直接创建bug-废弃，不用了',
  `func_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '功能菜单编号',
  `func_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '功能菜单名称',
  `func_pnames` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '上级名称逗号分割',
  `plan_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '测试计划编号',
  `casedb_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '测试库编号',
  `pbranch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '产品或者项目归属企业编号',
  `sort_no` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '排序序号',
  `risk_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '风险编号',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `create_time`(`create_time` ASC) USING BTREE,
  INDEX `project_id`(`project_id` ASC, `handler_userid` ASC) USING BTREE,
  INDEX `menu_id`(`menu_id` ASC, `product_id` ASC) USING BTREE,
  INDEX `task_id`(`task_id` ASC) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '缺陷列表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_question_handle
-- ----------------------------
DROP TABLE IF EXISTS `xm_question_handle`;
CREATE TABLE `xm_question_handle`  (
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '主键',
  `handler_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '处理人编号',
  `handler_username` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '处理人',
  `handle_solution` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '解决方案: 1设计如此、2重复BUG、3外部原因、4已解决、5无法重现、6延期处理、 7不予解决。',
  `receipt_message` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '回执信息',
  `receipt_time` datetime NULL DEFAULT NULL COMMENT '回执时间',
  `handle_status` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '=bugStatus',
  `BIZ_PROC_INST_ID` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '当前流程实例编号',
  `biz_flow_state` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '当前流程状态0初始1审批中2审批通过3审批不通过4流程取消或者删除',
  `question_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '问题编号',
  `last_update_time` datetime NULL DEFAULT NULL COMMENT '最后更新日期',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `act_workload` decimal(10, 2) NULL DEFAULT NULL COMMENT '实际工时',
  `act_cost_amount` decimal(10, 2) NULL DEFAULT NULL COMMENT '实际金额',
  `urls` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '链接地址列表逗号分隔',
  `target_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '指派给谁',
  `target_username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '指派给谁',
  `oper_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '操作人编号',
  `oper_username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '操作人姓名',
  `old_status` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '原状态',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_question_handle_his
-- ----------------------------
DROP TABLE IF EXISTS `xm_question_handle_his`;
CREATE TABLE `xm_question_handle_his`  (
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '主键',
  `handler_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '处理人编号',
  `handler_username` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '处理人',
  `handle_solution` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '解决方案: 1设计如此、2重复BUG、3外部原因、4已解决、5无法重现、6延期处理、 7不予解决。',
  `receipt_message` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '回执信息',
  `receipt_time` datetime NULL DEFAULT NULL COMMENT '回执时间',
  `handle_status` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '=bugStatus',
  `BIZ_PROC_INST_ID` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '当前流程实例编号',
  `biz_flow_state` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '当前流程状态0初始1审批中2审批通过3审批不通过4流程取消或者删除',
  `question_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '问题编号',
  `last_update_time` datetime NULL DEFAULT NULL COMMENT '最后更新日期',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `act_workload` decimal(10, 2) NULL DEFAULT NULL COMMENT '实际工时',
  `act_cost_amount` decimal(10, 2) NULL DEFAULT NULL COMMENT '实际金额',
  `urls` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '链接地址列表逗号分隔',
  `target_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '指派给谁',
  `target_username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '指派给谁',
  `oper_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '操作人编号',
  `oper_username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '操作人姓名',
  `old_status` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '原状态',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_record
-- ----------------------------
DROP TABLE IF EXISTS `xm_record`;
CREATE TABLE `xm_record`  (
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '日志编号',
  `project_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目编号',
  `oper_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '操作人id',
  `oper_username` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '操作人名字',
  `oper_time` datetime NULL DEFAULT NULL COMMENT '操作时间',
  `obj_type` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '对象类型:项目-1/任务-2/产品-3/需求-4/bug-5/迭代6',
  `action` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '操作的id',
  `old_value` text CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '历史值',
  `new_value` text CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '新值',
  `remarks` text CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '备注-只描述新旧值之间的变化',
  `glo_no` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '全局根踪号，用于跟踪日志',
  `branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '机构编号',
  `ip` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT 'ip地址',
  `biz_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '业务主键编号',
  `pbiz_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '测试计划编号、故事编号，其它勿填',
  `product_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '产品编号',
  `biz_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '对象名称',
  `top_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '测试库编号、迭代编号，其它勿填',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `project_id`(`project_id` ASC, `biz_id` ASC, `pbiz_id` ASC) USING BTREE,
  INDEX `biz_id_2`(`pbiz_id` ASC, `biz_id` ASC) USING BTREE,
  INDEX `biz_id`(`product_id` ASC, `biz_id` ASC, `pbiz_id` ASC) USING BTREE,
  INDEX `oper_time`(`oper_time` ASC) USING BTREE,
  INDEX `branch_id`(`branch_id` ASC, `biz_id` ASC, `pbiz_id` ASC) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '重点数据操作记录表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_record_his
-- ----------------------------
DROP TABLE IF EXISTS `xm_record_his`;
CREATE TABLE `xm_record_his`  (
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '日志编号',
  `project_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目编号',
  `oper_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '操作人id',
  `oper_username` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '操作人名字',
  `oper_time` datetime NULL DEFAULT NULL COMMENT '操作时间',
  `obj_type` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '对象类型:项目-1/任务-2/产品-3/需求-4/bug-5/迭代6',
  `action` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '操作的id',
  `old_value` text CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '历史值',
  `new_value` text CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '新值',
  `remarks` text CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '备注-只描述新旧值之间的变化',
  `glo_no` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '全局根踪号，用于跟踪日志',
  `branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '机构编号',
  `ip` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT 'ip地址',
  `biz_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '业务主键编号',
  `pbiz_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '测试计划编号、故事编号，其它勿填',
  `product_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '产品编号',
  `biz_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '对象名称',
  `top_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '测试库编号、迭代编号，其它勿填',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `project_id`(`project_id` ASC, `biz_id` ASC, `pbiz_id` ASC) USING BTREE,
  INDEX `biz_id_2`(`pbiz_id` ASC, `biz_id` ASC) USING BTREE,
  INDEX `biz_id`(`product_id` ASC, `biz_id` ASC, `pbiz_id` ASC) USING BTREE,
  INDEX `oper_time`(`oper_time` ASC) USING BTREE,
  INDEX `branch_id`(`branch_id` ASC, `biz_id` ASC, `pbiz_id` ASC) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '重点数据操作记录表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_record_visit
-- ----------------------------
DROP TABLE IF EXISTS `xm_record_visit`;
CREATE TABLE `xm_record_visit`  (
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '日志编号',
  `oper_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '操作人id',
  `oper_username` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '操作人名字',
  `oper_time` datetime NULL DEFAULT NULL COMMENT '操作时间',
  `obj_type` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '对象类型:项目-1/任务-2/产品-3/需求-4/bug-5/迭代6',
  `action` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '操作的id',
  `remarks` text CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '备注-只描述新旧值之间的变化',
  `glo_no` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '全局根踪号，用于跟踪日志',
  `branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '机构编号',
  `ip` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT 'ip地址',
  `biz_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '业务主键编号',
  `pbiz_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '对象上级编号,项目时填项目编号，任务时填项目编号，产品时填产品编号，需求时填产品编号，bug时填产品编号，迭代时填产品编号',
  `biz_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '对象名称',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `project_id`(`biz_id` ASC, `pbiz_id` ASC) USING BTREE,
  INDEX `biz_id_2`(`pbiz_id` ASC, `biz_id` ASC) USING BTREE,
  INDEX `biz_id`(`biz_id` ASC, `pbiz_id` ASC) USING BTREE,
  INDEX `oper_time`(`oper_time` ASC) USING BTREE,
  INDEX `branch_id`(`branch_id` ASC, `biz_id` ASC, `pbiz_id` ASC) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '重要页面访问记录' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_risk
-- ----------------------------
DROP TABLE IF EXISTS `xm_risk`;
CREATE TABLE `xm_risk`  (
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '风险编号',
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '风险名称',
  `rtype` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '风险类型,字典rtype,1-市场，2-技术，3-质量，4-成本，5-进度，6-人事',
  `odds` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '发生概率，字典odds,1-很高，2-高，3-中，4-低，5-很低',
  `impact` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '影响程度,字典impact,1-很高，2-高，3-中，4-低，5-很低',
  `rstatus` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '风险状态,字典rstatus,1-识别，2-评估，3-监控，4-应对，5-解除',
  `rlvl` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '风险等级，字典rlvl,1-立即行动，2-立即关注，3-定期关注，4-无需处理',
  `remark` text CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '风险描述',
  `rsgy` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '应对策略，字典rsgy,1-上报，2-规避，3-转移，4-减轻，5-接受',
  `rway` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '应对措施',
  `ruserid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '责任人编号',
  `rusername` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '责任人姓名',
  `ctime` datetime NULL DEFAULT NULL COMMENT '建立时间',
  `close_time` datetime NULL DEFAULT NULL COMMENT '解除时间',
  `deptid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '部门编号',
  `branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '企业编号',
  `project_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目编号',
  `cuserid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '提出人编号',
  `cusername` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '提出人姓名',
  `limit_time` datetime NULL DEFAULT NULL COMMENT '截止时间',
  `is_tpl` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否为模板1-是，0-否',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '项目风险管理' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_rpt_config
-- ----------------------------
DROP TABLE IF EXISTS `xm_rpt_config`;
CREATE TABLE `xm_rpt_config`  (
  `biz_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '业务编号',
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '报告编号',
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '报告名称',
  `cuserid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '创建人',
  `cusername` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '创建人姓名',
  `ctime` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `cbranch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '创建机构',
  `cfg` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '报告配置项 [  {compId:组件编号,name:组件名,params:{任意条件参数},title:,remark:文字说明}]',
  `biz_type` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '业务类型1-产品报告，2-迭代报告，3-测试计划报告，4-项目报告，5-企业报告，6-测试库报告',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '测试报告配置表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_rpt_data
-- ----------------------------
DROP TABLE IF EXISTS `xm_rpt_data`;
CREATE TABLE `xm_rpt_data`  (
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '报表编号',
  `rpt_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '报表名称',
  `cfg_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '报表配置主键',
  `rpt_data` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '报表数据json对象,比rptCfg.cfg多了rawDatas数组类型[{compId:组件编号,title:标题,remark:说明,params:各种参数,rawDatas:该组件的所有数据}]',
  `cuserid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '创建人编号',
  `cbranch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '创建人机构号',
  `cusername` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '创建人名称',
  `ctime` datetime NULL DEFAULT NULL COMMENT '创建日期',
  `biz_date` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '归属业务日期yyyy-MM-dd型',
  `biz_type` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '业务类型，同rpt_config.biz_type',
  `biz_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '业务编号',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_task
-- ----------------------------
DROP TABLE IF EXISTS `xm_task`;
CREATE TABLE `xm_task`  (
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '任务编号',
  `name` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '任务名称',
  `parent_taskid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '父任务编号',
  `parent_taskname` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '父任务名称',
  `project_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目编号',
  `project_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目名称',
  `level` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '任务级别',
  `sort_level` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '序号',
  `executor_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '任务执行人编号',
  `executor_username` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '任务执行人',
  `pre_taskid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '前置任务编号',
  `pre_taskname` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '前置任务名称',
  `start_time` datetime NULL DEFAULT NULL COMMENT '任务开始时间',
  `end_time` datetime NULL DEFAULT NULL COMMENT '任务结束时间',
  `milestone` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '里程碑',
  `description` text CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '任务描述',
  `remarks` text CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '备注',
  `create_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '任务创建人编号（谁创建谁负责）',
  `create_username` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '任务创建人（谁创建谁负责）',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `rate` int NULL DEFAULT NULL COMMENT '任务进度0-100（=实际工时/(任务预估工时*100）',
  `budget_at` decimal(10, 2) NULL DEFAULT NULL COMMENT '当前任务预算金额（calc_type=2时预算工时*单价，calc_type=1时下级汇总）',
  `budget_workload` decimal(10, 2) NULL DEFAULT NULL COMMENT '任务预估工时，自底向上逐层汇总',
  `act_at` decimal(10, 2) NULL DEFAULT NULL COMMENT '当前任务实际费用金额（calc_type=2时，取实际工时*单价，calc_type=1时取下级汇总数据）待结算金额',
  `act_workload` decimal(10, 2) NULL DEFAULT NULL COMMENT '任务取工时表报工工时汇总，其余取下级汇总',
  `task_state` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '任务状态0待领取1已领取执行中2已完工3已验收4已结算9已关闭',
  `task_type` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '0售前方案1投标2需求3设计4开发5测试6验收7部署8运维--来自基础数据表taskType',
  `task_class` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '1需结算0不需结算',
  `to_task_center` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否发布到任务大厅0否1是,1时互联网可访问',
  `act_start_time` datetime NULL DEFAULT NULL COMMENT '实际开始时间-任务状态变成执行中的时间',
  `act_end_time` datetime NULL DEFAULT NULL COMMENT '实际结束时间-任务状态变成完工状态时的时间',
  `BIZ_PROC_INST_ID` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '当前流程实例编号',
  `biz_flow_state` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '当前流程状态0初始1审批中2审批通过3审批不通过4流程取消或者删除',
  `phase_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目阶段编号,执行项目类型定义下的项目阶段节点',
  `phase_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目阶段名称(作废)',
  `task_skill_names` text CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '技能列表,逗号分隔',
  `exe_usernames` text CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '执行人列表逗号分隔如陈x(审核人),王x(监控人)',
  `task_skill_ids` text CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '技能编号列表逗号分隔',
  `exe_userids` text CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '执行人编号列表逗号分隔如u1(1),u2(2)',
  `task_out` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '执行方式-0内研1外购',
  `plan_type` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '计划类型w1-周,w2-2周,w3-3周,m1-1月,m2-2月,q1-季,q2-半年，y1-年',
  `settle_schemel` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '任务结算方案-来自数字字典xmTaskSettleSchemel',
  `menu_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '归属功能编号',
  `menu_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '归属功能名称',
  `product_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '产品编号根据功能变化带进',
  `cbranch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '创建机构',
  `cdeptid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '创建部门',
  `tag_ids` text CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '标签编号，逗号分割',
  `tag_names` text CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '标签名称，逗号分割',
  `ntype` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '节点类型0-任务，1-计划。计划下可建立计划和任务，任务下不允许再扩展。也就是非叶子节点都是计划，叶子节点有可能是计划或者任务',
  `children_cnt` int NULL DEFAULT NULL COMMENT '儿子节点个数',
  `ltime` datetime NULL DEFAULT NULL COMMENT '更新时间',
  `pid_paths` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '父级id逗号分割，最后一个为本节点节点编号,以,号结尾',
  `lvl` int NULL DEFAULT NULL COMMENT '层级0-顶级，1-一级，2-二级，3-三级，4-四级。总共5级',
  `is_tpl` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否为模板',
  `key_path` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否为关键路径上的节点',
  `uni_inner_price` decimal(10, 2) NULL DEFAULT NULL COMMENT '内部单位工时单价',
  `uni_out_price` decimal(10, 2) NULL DEFAULT NULL COMMENT '外部单位工时单价',
  `calc_type` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '实际完成工时统计 1-手工填写(适合无任务的叶子计划，或者无须报工的任务),2-根据报工工时动态计算',
  `ptype` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '类型 1-阶段，2-规划，3-任务',
  `wtype` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT '2' COMMENT '报工方式1-强制每日报工，2-工期内报工，0-无需报工',
  `bctrl` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT '0' COMMENT '报工限制0-不限制，1-不得超出预估工时',
  `init_workload` decimal(10, 2) NULL DEFAULT NULL COMMENT '计划预估工作量，自顶向下按权重逐层分解',
  `share_fee` decimal(10, 0) NULL DEFAULT NULL COMMENT '分享赚佣金',
  `oshare` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '开启分享赚功能0-否1-待付款，2已付款',
  `crowd` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否众包0否1是，众包属于外购的一种',
  `browse_users` int NULL DEFAULT NULL COMMENT '浏览人数',
  `exec_users` int NULL DEFAULT NULL COMMENT '投标人数',
  `city_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '城市编号',
  `city_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '城市名称',
  `region_type` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '地域限制方式0-不限制，1-同城，2-同省，3-同国，4-同洲',
  `browse_times` int NULL DEFAULT NULL COMMENT '浏览次数',
  `capa_lvls` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '能力等级最小要求',
  `tran_mode` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '交易模式1-招标，2-雇佣',
  `sup_requires` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '保障要求编号0-不限制，1铜牌，2银牌，3金牌',
  `hot` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否为热搜0否1待付款2已开通3已过期,每次热搜3天，3天后自动取消热搜',
  `top` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否为置顶0否1待付款2已开通3已过期,每次置顶3天，3天后自动取消置顶',
  `urgent` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '加急0否1待付款2已开通3已过期',
  `crm_sup` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '客服包办0否1待付款2已开通，理顺需求、比稿选稿',
  `bid_step` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '投标流程0-草稿，1-发布需求，2-用户投标，3雇主选标，4拓管赏金，5用户工作，6验收付款,7完结雇主正式发布后由0->2雇主选标后由2->4雇主托管资金后由4->5服务商提交任务成功，由5->6任务验收完毕后，雇主手动点击付款，由6->7',
  `interest_lvls` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '会员等级最小要求',
  `file_paths` text CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '附件地址列表，逗号分割',
  `estate` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT '0' COMMENT '资金托管状况0-无须托管，1-待付款，2-已托管资金，3-已付款给服务商，4-已退款',
  `efunds` decimal(10, 4) NULL DEFAULT NULL COMMENT '托管金额=quote_final_at',
  `eto_plat_time` datetime NULL DEFAULT NULL COMMENT '托管资金付款给平台的时间',
  `eto_dev_time` datetime NULL DEFAULT NULL COMMENT '托管资金支付给服务商的时间',
  `eback_time` datetime NULL DEFAULT NULL COMMENT '托管资金退回甲方时间',
  `top_stime` datetime NULL DEFAULT NULL COMMENT '置顶开始时间',
  `top_etime` datetime NULL DEFAULT NULL COMMENT '置顶结束时间',
  `hot_stime` datetime NULL DEFAULT NULL COMMENT '热搜开始时间',
  `hot_etime` datetime NULL DEFAULT NULL COMMENT '热搜结束时间',
  `urgent_stime` datetime NULL DEFAULT NULL COMMENT '加急开始时间',
  `urgent_etime` datetime NULL DEFAULT NULL COMMENT '加急结束时间',
  `quote_final_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '众包最终确定价格',
  `province_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '省编号',
  `province_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '省名称',
  `area_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '区县编号',
  `area_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '区县名称',
  `status` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT '0' COMMENT '0-草稿，1-正式',
  `bid_etime` datetime NULL DEFAULT NULL COMMENT '供应商投标截止时间',
  `service_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '服务编号-对应服务商中我的服务里面的服务编号',
  `credit_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '最低信用等级',
  `pbranch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目归属企业编号',
  `sub_task_cnt` int NULL DEFAULT NULL COMMENT '儿子任务树-不包括孙子',
  `sub_plan_cnt` int NULL DEFAULT NULL COMMENT '儿子计划树-不包括孙子',
  `weight` int NULL DEFAULT NULL COMMENT '权重值0-100之间，相对于上级来说每个儿子节点占比，每次更新，需要同步更改所有其它兄弟的权重，保证总权重不超过100.超过100时，其它兄弟的权重值自动按比例缩小',
  `init_rate` int NULL DEFAULT NULL COMMENT '计划进度=实际工时汇总/计划预估值*100,0-100之间',
  `mact_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '手工填写本级节点独立实际工时',
  `sum_act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '实际工时汇总，=son_sum_mact_workload+mact_workload+act_workload',
  `son_sum_mact_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '下级手工工时汇总,不包括本级mact_wokload',
  `son_sum_init_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '下级预估工时汇总，不包括本级=所有儿子节点的init_workload之后',
  `open_lvl` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '公开程度 字典taskOpenLvl  1.仅限本人查看 2.同项目组可查看，3.同部门可查看，4.同企业可查看，9.不限制',
  `open_valid` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否开启验证0-否，1是',
  `valid_status` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '验证结果0-未完成，1已完成',
  `kpi_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '关键指标编号',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `xm_task_ibfk_1`(`menu_id` ASC) USING BTREE,
  INDEX `project_id`(`cbranch_id` ASC, `project_id` ASC, `executor_userid` ASC) USING BTREE,
  INDEX `create_time`(`create_time` ASC) USING BTREE,
  INDEX `pid_paths`(`pid_paths` ASC) USING BTREE,
  INDEX `project_id_2`(`project_id` ASC, `ntype` ASC) USING BTREE,
  INDEX `product_id`(`project_id` ASC, `product_id` ASC, `ntype` ASC) USING BTREE,
  INDEX `bid_etime`(`bid_etime` ASC) USING BTREE,
  INDEX `parent_taskid`(`parent_taskid` ASC) USING BTREE,
  INDEX `product_id_2`(`product_id` ASC, `ntype` ASC) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '项目任务表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_task_bid_order
-- ----------------------------
DROP TABLE IF EXISTS `xm_task_bid_order`;
CREATE TABLE `xm_task_bid_order`  (
  `id` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '订单编号',
  `ouserid` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '下单用户编号',
  `obranch_id` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '公司ID-下单客户对应的企业',
  `ostatus` varchar(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '1' COMMENT '订单状态0-初始，1-待确认，2-待付款，3-已付款，4-已完成，5-已取消-未付款前可取消，取消后可删除，6-退单-退单后变为已取消，8已关闭-售后完成后可以关闭订单',
  `ctime` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `ltime` datetime NULL DEFAULT NULL COMMENT '更新时间',
  `pay_type` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '支付方式1微信2支付宝',
  `pay_status` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '支付状态0待付款，1已付款',
  `pay_time` datetime NULL DEFAULT NULL COMMENT '支付时间',
  `prepay_id` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '第三方支付订单编号',
  `final_fee` decimal(20, 2) NULL DEFAULT NULL COMMENT '最终总费用=origin_fee * discount/100+oth_fee',
  `oth_fee` decimal(10, 2) NULL DEFAULT NULL COMMENT '其它费用',
  `origin_fee` decimal(20, 2) NULL DEFAULT NULL COMMENT '原始价格=任务佣金*平台配置的投标直通车收费比率',
  `pay_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '最终付款金额-客户付款后回填',
  `pay_openid` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '支付账户对应的第三方openid,注意，下单根付款不一定是同一个人',
  `pay_userid` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '付款用户编号',
  `pay_username` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '付款用户名称',
  `task_id` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '任务编号',
  `calc_status` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '定时检查日期是否已过期，已过期则取消任务中的置顶、加急、热搜状态计算状态0-无须计算，1-本周期已计算待下周期计算，2-结束',
  `calc_time` datetime NULL DEFAULT NULL COMMENT '计算时间',
  `pay_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '付款流水号(内部生成，传给第三方原样传回，如果不正确，不允许更新数据库，防止作弊)',
  `tran_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '第三方付款事务号',
  `remark` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '订单备注',
  `name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '订单名称',
  `biz_type` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '订单业务类',
  `project_id` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '项目编号',
  `otype` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '订单类型7-投标直通车',
  `task_budget_at` decimal(50, 0) NULL DEFAULT NULL COMMENT '任务预算金额',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `company_id`(`obranch_id` ASC) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '任务相关投标直通车订单表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_task_comment
-- ----------------------------
DROP TABLE IF EXISTS `xm_task_comment`;
CREATE TABLE `xm_task_comment`  (
  `ID` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '主键',
  `USERID` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '评论人',
  `USERNAME` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '评论人姓名',
  `STAR` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '星级',
  `CDATE` datetime NULL DEFAULT NULL COMMENT '时间',
  `TASK_ID` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '需求编号',
  `PID` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '上级评论 编号',
  `ups` decimal(10, 0) NULL DEFAULT 0 COMMENT '点赞数量',
  `IS_SHOW` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否显示0否1是',
  `TO_USERID` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '回复用户编号',
  `TO_USERNAME` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '回复用户名',
  `LVL` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT '0' COMMENT '层级0,1,2,3,4',
  `CONTEXT` text CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '评论内容',
  `BRANCH_ID` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '机构编号',
  `IP` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT 'ip地址',
  `city_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '城市编号',
  `city_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '城市名称',
  `status` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '状态0未审核，1已审核，3审核不通过',
  `child_nums` int NULL DEFAULT NULL COMMENT '儿子节点数量',
  PRIMARY KEY (`ID`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '档案评论表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_task_eval
-- ----------------------------
DROP TABLE IF EXISTS `xm_task_eval`;
CREATE TABLE `xm_task_eval`  (
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '评价',
  `type` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '评价类型1-雇主对服务商的评价，2-服务商对雇主的评价，3-组长对组员的评价',
  `wspeed` int NULL DEFAULT NULL COMMENT '工作速度0-5分',
  `wattit` int NULL DEFAULT NULL COMMENT '工作态度0-5分',
  `wquality` int NULL DEFAULT NULL COMMENT '工作质量0-5分',
  `total_star` int NULL DEFAULT NULL COMMENT '总体评价0-5分',
  `remark` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '评价内容',
  `eval_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '评价人编号',
  `eval_username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '评价人姓名',
  `to_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '被评价人编号',
  `to_username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '被评价人姓名',
  `eval_branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '评价人归属机构',
  `to_branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '被评价人归属机构号',
  `task_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '任务编号',
  `eval_time` datetime NULL DEFAULT NULL COMMENT '评价时间',
  `pay_speed` int NULL DEFAULT NULL COMMENT '付款及时度0-5分',
  `coop_happy` int NULL DEFAULT NULL COMMENT '合作愉快度0-5分',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_task_execuser
-- ----------------------------
DROP TABLE IF EXISTS `xm_task_execuser`;
CREATE TABLE `xm_task_execuser`  (
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `task_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '任务id',
  `prj_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '执行人id-投标者在项目归属公司的内部用户编号，对应sys_user.userid。投标人中标后，项目公司设立内部用户编号后回填，也就是中标后，项目公司应该给中标人设立内部用户编号，让其具有更多的权限',
  `start_time` datetime NOT NULL COMMENT '加入时间',
  `end_time` datetime NULL DEFAULT NULL COMMENT '离开时间',
  `status` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '执行人状态0候选排队中1执行任务中7放弃任务8黑名单',
  `remarks` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '备注',
  `create_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '创建人',
  `create_username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '创建人姓名',
  `prj_username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '执行人姓名',
  `match_score` decimal(10, 2) NULL DEFAULT NULL COMMENT '任务能力匹配分数100分，占比50%',
  `quote_weekday` decimal(10, 2) NULL DEFAULT NULL COMMENT '报价天数，不包括周六日',
  `quote_amount` decimal(10, 2) NULL DEFAULT NULL COMMENT '报价金额',
  `quote_time` datetime NULL DEFAULT NULL COMMENT '报价时间',
  `project_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目编号',
  `phase_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '阶段计划编号',
  `skill_remark` text CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '技能说明',
  `quote_workload` decimal(10, 2) NULL DEFAULT NULL COMMENT '报价工作量单位人时',
  `quote_start_time` datetime NULL DEFAULT NULL COMMENT '报价-开始工作日期',
  `quote_end_time` datetime NULL DEFAULT NULL COMMENT '报价-结束工作日期',
  `branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目所属机构',
  `phase_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '阶段计划名称',
  `task_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '任务名称',
  `dist_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '推荐人编号',
  `dist_username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '推荐人姓名',
  `share_key` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '分享码',
  `sfee_rate` int NULL DEFAULT NULL COMMENT '服务费率',
  `sfee` decimal(10, 2) NULL DEFAULT NULL COMMENT '众包服务费',
  `province_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '省编号',
  `province_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '省名称',
  `city_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '城市编号',
  `city_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '城市名称',
  `area_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '区县编号',
  `area_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '区县名称',
  `grade_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '能力等级编号',
  `guard_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '保障等级编号',
  `ilvl_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '会员等级编号',
  `credit_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '信用等级编号',
  `ctotal_bids` int NULL DEFAULT NULL COMMENT '投标总数',
  `srv_times` int NULL DEFAULT NULL COMMENT '服务总次数',
  `cmonth_exp` decimal(10, 2) NULL DEFAULT NULL COMMENT '本月获得经验值',
  `cmonth_bids` int NULL DEFAULT NULL COMMENT '本月投标数',
  `bid_direct` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否开启投标直通车',
  `skill_ids` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '技能编号列表',
  `skill_names` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '技能名称列表',
  `up_rate` int NULL DEFAULT NULL COMMENT '好评率',
  `adjust_score` int NULL DEFAULT NULL COMMENT '雇主打分100分，占比50%,默认60分',
  `final_score` decimal(10, 0) NULL DEFAULT NULL COMMENT '总得分(100分)=match_score*50%+adjust_score*50',
  `adjust_remark` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '打分说明',
  `csix_bids` int NULL DEFAULT NULL COMMENT '最近6个月投标次数',
  `csix_exp` decimal(10, 2) NULL DEFAULT NULL COMMENT '最近6个月经验值总额',
  `csix_at` decimal(10, 0) NULL DEFAULT NULL COMMENT '最近6个月收入总额',
  `bid_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '投标人用户编号-该用户编号不一定属于项目归属公司的内部账户',
  `bid_username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '投标人名称',
  `bid_branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '投标人归属公司-根据cpa_userid带出,该机构号不一定等同于项目归属公司编号。如果投标人属于项目归属公司，则等于项目归属公司编号，否则不同',
  PRIMARY KEY (`task_id`, `bid_userid`) USING BTREE,
  INDEX `task_id`(`task_id` ASC, `prj_userid` ASC) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '任务候选人、执行人表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_task_order
-- ----------------------------
DROP TABLE IF EXISTS `xm_task_order`;
CREATE TABLE `xm_task_order`  (
  `ouserid` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '下单用户编号',
  `obranch_id` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '公司ID-下单客户对应的企业',
  `ostatus` varchar(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '1' COMMENT '订单状态0-初始，1-待确认，2-待付款，3-已付款，4-已完成，5-已取消-未付款前可取消，取消后可删除，6-退单-退单后变为已取消，8已关闭-售后完成后可以关闭订单',
  `ctime` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `ltime` datetime NULL DEFAULT NULL COMMENT '更新时间',
  `pay_type` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '支付方式1微信2支付宝',
  `pay_status` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '支付状态0待付款，1已付款',
  `pay_time` datetime NULL DEFAULT NULL COMMENT '支付时间',
  `prepay_id` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '第三方支付订单编号',
  `id` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '订单编号',
  `final_fee` decimal(20, 2) NULL DEFAULT NULL COMMENT '最终总费用=origin_fee * discount/100+oth_fee',
  `oth_fee` decimal(10, 2) NULL DEFAULT NULL COMMENT '其它费用',
  `origin_fee` decimal(20, 2) NULL DEFAULT NULL COMMENT '原始价格=top_fee+urgent_fee+crm_sup_fee+hot_fee+efunds+share_fee',
  `pay_at` decimal(20, 2) NULL DEFAULT NULL COMMENT '最终付款金额-客户付款后回填',
  `pay_auth_id` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '支付授权码',
  `pay_openid` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '支付账户对应的第三方openid,注意，下单根付款不一定是同一个人',
  `pay_userid` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '付款用户编号',
  `pay_username` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '付款用户名称',
  `discount` int NULL DEFAULT NULL COMMENT '折扣率0-199',
  `top_fee` decimal(20, 2) NULL DEFAULT NULL COMMENT '置顶费用',
  `top_stime` datetime NULL DEFAULT NULL COMMENT '置顶开始时间',
  `top_etime` datetime NULL DEFAULT NULL COMMENT '置顶结束时间',
  `hot_fee` decimal(20, 2) NULL DEFAULT NULL COMMENT '热搜费用',
  `hot_stime` datetime NULL DEFAULT NULL COMMENT '热搜开始时间',
  `hot_etime` datetime NULL DEFAULT NULL COMMENT '热搜结束时间',
  `top` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '是否置顶0否1待付款2已开通3已过期',
  `hot` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '是否热搜0否1待付款2已开通3已过期',
  `crm_sup_fee` decimal(20, 2) NULL DEFAULT NULL COMMENT '客服包办费用',
  `urgent_fee` decimal(20, 2) NULL DEFAULT NULL COMMENT '加急费用',
  `urgent` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '是否加急0否1待付款2已开通3已过期',
  `crm_sup` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '是否客服包办0否1待付款2已开通3已过期',
  `efunds` decimal(20, 2) NULL DEFAULT NULL COMMENT '托管金额',
  `estate` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '资金托管状况0-无须托管，1-待付款，2-已托管资金，3-已付款给服务商，4-已退款',
  `eto_plat_time` datetime NULL DEFAULT NULL COMMENT '托管资金付款给平台的时间',
  `eto_dev_time` datetime NULL DEFAULT NULL COMMENT '托管资金支付给服务商的时间',
  `eback_time` datetime NULL DEFAULT NULL COMMENT '托管资金退回甲方时间',
  `task_id` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '任务编号',
  `top_days` int NULL DEFAULT NULL COMMENT '置顶天数',
  `hot_days` int NULL DEFAULT NULL COMMENT '热搜天数',
  `urgent_days` int NULL DEFAULT NULL COMMENT '加急天数',
  `urgent_stime` datetime NULL DEFAULT NULL COMMENT '加急开始时间',
  `urgent_etime` datetime NULL DEFAULT NULL COMMENT '加急结束时间',
  `calc_status` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '定时检查日期是否已过期，已过期则取消任务中的置顶、加急、热搜状态计算状态0-无须计算，1-本周期已计算待下周期计算，2-结束',
  `calc_time` datetime NULL DEFAULT NULL COMMENT '计算时间',
  `oshare` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '是否开启分享赚0否1待付款2已开通3已过期',
  `share_fee` decimal(20, 2) NULL DEFAULT NULL COMMENT '分享赚佣金',
  `pay_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '付款流水号(内部生成，传给第三方原样传回，如果不正确，不允许更新数据库，防止作弊)',
  `tran_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '第三方付款事务号',
  `remark` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '订单备注',
  `name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '订单名称',
  `biz_type` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '订单业务类型1-保证金，2-营销推广活动',
  `project_id` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '项目编号',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `company_id`(`obranch_id` ASC) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '任务相关费用订单表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_task_sbill
-- ----------------------------
DROP TABLE IF EXISTS `xm_task_sbill`;
CREATE TABLE `xm_task_sbill`  (
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '结算单据编号',
  `title` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '结算单标题',
  `amt` decimal(20, 2) NULL DEFAULT NULL COMMENT '金额=工时表中结算金额之和',
  `ctime` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `cuserid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '创建人编号',
  `cusername` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '创建人姓名',
  `remark` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '备注',
  `branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '机构编号',
  `deptid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '部门编号',
  `cp_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '相对方编号(机构写机构号，个人写个人编号)',
  `cp_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '相对方名称（机构写机构名称，个人写个人名称）',
  `workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '结算工作量=工时表中工时之和',
  `biz_month` varchar(8) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '业务月份yyyy-MM',
  `biz_date` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '业务日期yyyy-MM-dd',
  `biz_flow_state` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '结算流程状态：0初始1审批中2审批通过3审批不通过4流程取消或者删除',
  `biz_proc_inst_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '结算流程实例',
  `ltime` datetime NULL DEFAULT NULL COMMENT '更新时间',
  `status` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '0-待提交，1-已提交，2-审核已通过，3-待开票，4-已开票待付款，5-已付款',
  `fmsg` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '最后审核意见',
  `project_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目编号',
  `project_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目名称',
  `user_cnt` int NULL DEFAULT NULL COMMENT '结算人数',
  `cp_type` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '相对方类型1-个人，2-企业',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '任务结算表-一个结算单对应1个或者多个任务，结算对象只能有一个' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_task_sbill_detail
-- ----------------------------
DROP TABLE IF EXISTS `xm_task_sbill_detail`;
CREATE TABLE `xm_task_sbill_detail`  (
  `userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '员工编号',
  `username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '姓名',
  `ctime` datetime NULL DEFAULT NULL COMMENT '创建日期',
  `task_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '业务对象主键任务编号',
  `biz_date` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '业务日期yyyy-MM-dd',
  `remark` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '备注',
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '主键',
  `sbill_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '结算单据编号-来自task_sbill.id',
  `stime` datetime NULL DEFAULT NULL COMMENT '结算提交时间',
  `sstatus` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '结算状态0-无需结算，1-待结算2-已提交3-已通过4-已结算',
  `amt` decimal(10, 2) NULL DEFAULT NULL COMMENT '工时对应金额',
  `samt` decimal(10, 0) NULL DEFAULT NULL COMMENT '结算工时对应结算金额-根据结算方案计算结算金额',
  `workload` decimal(10, 2) NULL DEFAULT NULL COMMENT '报工工时',
  `project_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '归属项目',
  `sworkload` decimal(10, 2) NULL DEFAULT NULL COMMENT '结算工时，用于结算，默认=workload',
  `biz_month` varchar(7) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '月份yyyy-MM型',
  `budget_at` decimal(10, 2) NULL DEFAULT NULL COMMENT '任务预算金额-来自task表',
  `budget_workload` decimal(10, 2) NULL DEFAULT NULL COMMENT '任务预算工时-来自task表',
  `init_workload` decimal(10, 2) NULL DEFAULT NULL COMMENT '任务初始工时-来自task表',
  `quote_at` decimal(10, 2) NULL DEFAULT NULL COMMENT '报价金额-来自task_execuser表',
  `quote_workload` decimal(10, 0) NULL DEFAULT NULL COMMENT '报价工时-来自task_execuser表',
  `sschemel` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '任务结算方案,来自task表、来自数字字典xmTaskSettleSchemel',
  `uni_price` decimal(10, 2) NULL DEFAULT NULL COMMENT '工时单价，来自task表，根据task_out判断取内部还是外部单价',
  `qend_time` datetime NULL DEFAULT NULL COMMENT '报价结束时间',
  `qstart_time` datetime NULL DEFAULT NULL COMMENT '报价开始时间',
  `act_end_time` datetime NULL DEFAULT NULL COMMENT '实际完工时间-来自task表',
  `act_start_time` datetime NULL DEFAULT NULL COMMENT '实际开始时间-来自task表',
  `oshare` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否开启分享赚',
  `share_fee` decimal(10, 2) NULL DEFAULT NULL COMMENT '分享赚佣金',
  `sfee` decimal(10, 2) NULL DEFAULT NULL COMMENT '平台服务费',
  `sfee_rate` int NULL DEFAULT NULL COMMENT '服务费率',
  `cp_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '相对方编号(机构写机构号，个人写个人编号)',
  `cp_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '相对方名称（机构写机构名称，个人写个人名称）',
  `cp_type` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '相对方类型1-个人，2-企业',
  `dist_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '推荐人编号',
  `dist_username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '推荐人姓名',
  `share_key` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '分享码',
  `task_out` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否外购0否1是',
  `crowd` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否众包',
  `oth_fee` decimal(10, 2) NULL DEFAULT NULL COMMENT '其它费用',
  `fee_remark` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '费用说明',
  `tact_at` decimal(1, 0) NULL DEFAULT NULL COMMENT '该任务在本次结算前已结算的金额',
  `task_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '任务名称',
  `subject_id` varchar(0) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '费用科目编号',
  `subject_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '费用科目名称',
  `branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目归属机构号',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `idx_uni_sbill_Id_userid_task_id`(`userid` ASC, `task_id` ASC, `sbill_id` ASC) USING BTREE COMMENT '同一个结算单的同一个任务、同一个人人不允许重复结算',
  INDEX `sbill_id`(`sbill_id` ASC) USING BTREE,
  CONSTRAINT `xm_task_sbill_detail_ibfk_1` FOREIGN KEY (`sbill_id`) REFERENCES `xm_task_sbill` (`id`) ON DELETE CASCADE ON UPDATE RESTRICT
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '工时结算单明细-一个任务只允许结算一次，一次性结算完毕。任务必须已完工' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_task_skill
-- ----------------------------
DROP TABLE IF EXISTS `xm_task_skill`;
CREATE TABLE `xm_task_skill`  (
  `task_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '任务编号',
  `skill_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '技能要求',
  `skill_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '技能名称',
  `category_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '技能分类',
  PRIMARY KEY (`task_id`, `skill_id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '任务技能关联表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_test_case
-- ----------------------------
DROP TABLE IF EXISTS `xm_test_case`;
CREATE TABLE `xm_test_case`  (
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '主键',
  `case_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '标题',
  `case_remark` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '备注',
  `test_step` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '测试步骤[{id:,op:,eresult:,aresult:,tcode:测试结果代码}]',
  `expect_result` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '期望结果',
  `menu_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '关联的故事',
  `menu_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '关联故事名',
  `ctime` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `ltime` datetime NULL DEFAULT NULL COMMENT '更新时间',
  `luserid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '更新人编号',
  `lusername` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '更新人姓名',
  `cbranch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '创建机构',
  `module_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '模块编号',
  `module_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '模块名称',
  `case_status` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '用例状态0-草稿，1-评审中，2-审核通过，3-审核未通过，4-废弃',
  `cuserid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '创建人编号',
  `cusername` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '创建人姓名',
  `product_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '产品编号',
  `ver_num` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '版本号',
  `casedb_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '用例库编号',
  `casedb_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '用例库名称',
  `func_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '功能菜单编号',
  `func_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '功能菜单名称',
  `func_pnames` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '上级菜单名称列表逗号分割',
  `pre_remark` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '前置条件描述',
  `case_type` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '用例类型-与bug类型相同',
  `cpriority` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '优先级',
  `budget_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '预算工时',
  `act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '实际工时',
  `init_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '原估工时',
  `retest` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否可作为回归测试用例0-否，1-是',
  `pbranch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '产品归属企业',
  `test_type` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '测试方式0-手工，1-自动',
  `auto_step` text CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '自动测试步骤',
  `rate` int NULL DEFAULT NULL COMMENT '进度0-100',
  `sort_no` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '排序号',
  `is_tpl` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否为模板1-是，0-否',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `ctime`(`ctime` ASC) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '测试用例' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_test_casedb
-- ----------------------------
DROP TABLE IF EXISTS `xm_test_casedb`;
CREATE TABLE `xm_test_casedb`  (
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '主键',
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '用例库名称',
  `cuserid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '创建人',
  `cusername` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '创建人姓名',
  `ctime` datetime NULL DEFAULT NULL COMMENT '创建日期',
  `cbranch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '归属机构编号',
  `product_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '产品编号',
  `product_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '产品名称',
  `total_cases` int NULL DEFAULT NULL COMMENT '总用例数',
  `ok_cases` int NULL DEFAULT NULL COMMENT '通过用例数',
  `err_cases` int NULL DEFAULT NULL COMMENT '失败用例数',
  `ig_cases` int NULL DEFAULT NULL COMMENT '忽略用例数',
  `bl_cases` int NULL DEFAULT NULL COMMENT '阻塞用例数',
  `bug_cnt` int NULL DEFAULT NULL COMMENT 'bug数目',
  `closed_bugs` int NULL DEFAULT NULL COMMENT '已关闭bug总数',
  `resolved_bugs` int NULL DEFAULT NULL COMMENT '已解决bug总数',
  `active_bugs` int NULL DEFAULT NULL COMMENT '激活的bug总数',
  `confirmed_bugs` int NULL DEFAULT NULL COMMENT '已解决bug总数',
  `test_plans` int NULL DEFAULT NULL COMMENT '测试计划数',
  `menus` int NULL DEFAULT NULL COMMENT '需求数目',
  `funcs` int NULL DEFAULT NULL COMMENT '功能模块数',
  `status` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '状态0初始，1-启用，2关闭',
  `budget_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '预算工时',
  `act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '实际工时',
  `pbranch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '产品归属企业',
  `env_json` text CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '环境变量',
  `is_tpl` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否为模板1-是，0-否',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '测试用例库' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_test_plan
-- ----------------------------
DROP TABLE IF EXISTS `xm_test_plan`;
CREATE TABLE `xm_test_plan`  (
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '测试计划编号',
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '计划名称',
  `casedb_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '用例库编号',
  `casedb_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '用例库名称',
  `project_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目编号',
  `project_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目名称',
  `cuserid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '创建人编号',
  `cusername` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '创建人名称',
  `ctime` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `stime` datetime NULL DEFAULT NULL COMMENT '开始时间',
  `etime` datetime NULL DEFAULT NULL COMMENT '结束时间',
  `status` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '状态0-未开始，1-进行中，2已结束',
  `tcode` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '测试结果0未通过，1已通过',
  `total_cases` int NULL DEFAULT NULL COMMENT '总用例数',
  `ok_cases` int NULL DEFAULT NULL COMMENT '通过用例数',
  `err_cases` int NULL DEFAULT NULL COMMENT '失败用例数',
  `ig_cases` int NULL DEFAULT NULL COMMENT '忽略用例数',
  `bl_cases` int NULL DEFAULT NULL COMMENT '阻塞用例数',
  `product_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '产品编号',
  `product_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '产品名称',
  `flow_state` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '评审结果0-待评审，1-已评审通过，2-已拒绝',
  `bug_cnt` int NULL DEFAULT NULL COMMENT 'bug数目',
  `closed_bugs` int NULL DEFAULT NULL COMMENT '已关闭bug总数',
  `resolved_bugs` int NULL DEFAULT NULL COMMENT '已解决bug总数',
  `active_bugs` int NULL DEFAULT NULL COMMENT '激活的bug总数',
  `confirmed_bugs` int NULL DEFAULT NULL COMMENT '已解决bug总数',
  `menus` int NULL DEFAULT NULL COMMENT '需求数目',
  `funcs` int NULL DEFAULT NULL COMMENT '功能模块数',
  `budget_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '预算工时',
  `act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '实际工时',
  `summary_remark` text CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '报告总结',
  `cbranch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '创建机构编号',
  `to_test_cases` int NULL DEFAULT NULL COMMENT '未测用例数',
  `pbranch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '产品归属企业',
  `ptype` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '计划类型0-普通测试，2-迭代测试，1-发布测试，',
  `test_type` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '测试方式0-手工，1-自动化',
  `env_json` text CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '环境变量',
  `is_tpl` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '是否为模板1-是，0-否',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '测试计划' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_test_plan_case
-- ----------------------------
DROP TABLE IF EXISTS `xm_test_plan_case`;
CREATE TABLE `xm_test_plan_case`  (
  `bugs` int NULL DEFAULT NULL COMMENT 'bug数目',
  `exec_userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '执行人',
  `case_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '测试用例编号',
  `ltime` datetime NULL DEFAULT NULL COMMENT '更新时间',
  `ctime` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `exec_status` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '0-未测，1-通过，2-受阻，3-忽略，4-失败',
  `exec_username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '执行人姓名',
  `priority` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '优先级',
  `remark` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '执行备注',
  `test_step` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '测试步骤[{id:,op:,eresult:,aresult:,tcode:测试结果代码}]',
  `plan_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '计划编号',
  `project_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目编号',
  `budget_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '预算工时',
  `act_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '实际工时',
  `init_workload` decimal(20, 2) NULL DEFAULT NULL COMMENT '原估工时',
  `exec_date` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '执行日期，以执行状态变更日期为准yyyy-MM-dd型',
  `exec_type` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '执行类型0-手工，1-自动化',
  `product_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '归属产品',
  `exec_rate` int NULL DEFAULT NULL COMMENT '进度0-100',
  PRIMARY KEY (`case_id`, `plan_id`) USING BTREE,
  INDEX `create_time`(`ctime` ASC) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '测试计划与用例关系表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Table structure for xm_workload
-- ----------------------------
DROP TABLE IF EXISTS `xm_workload`;
CREATE TABLE `xm_workload`  (
  `userid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '员工编号',
  `username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '姓名',
  `ctime` datetime NULL DEFAULT NULL COMMENT '创建日期',
  `task_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '任务编号，任务报工必填',
  `cuserid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '创建人编号',
  `biz_date` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '业务日期yyyy-MM-dd',
  `wstatus` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '状态0-待确认，1-已确认，2-无效',
  `remark` text CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL COMMENT '备注',
  `ttype` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '任务类型-关联字典taskType',
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NOT NULL COMMENT '主键',
  `stime` datetime NULL DEFAULT NULL COMMENT '结算提交时间',
  `sstatus` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '结算状态0-无需结算，1-待结算2-已提交3-已通过4-已结算',
  `workload` decimal(10, 2) NULL DEFAULT NULL COMMENT '工时，一个task_id可多次提交，小时',
  `rworkload` decimal(10, 2) NULL DEFAULT NULL COMMENT '任务剩余工时（同一天取最后日期更新到task表budget_workload中）',
  `cusername` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '创建人姓名',
  `project_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '归属项目',
  `branch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '项目归属机构',
  `ubranch_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '用户归属机构',
  `sbill_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '结算单编号',
  `detail_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '结算单明细表id',
  `menu_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '需求编号，缺陷报工、测试报工、任务报工都可以填',
  `product_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '产品编号，能关联到的都填',
  `case_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '测试用例编号(如果是测试执行报工，必填)',
  `plan_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '测试计划编号(如果是测试执行报工，必填)',
  `bug_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '缺陷编号(如果是缺陷报工，必填)',
  `biz_type` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '报工类型1-任务，2-缺陷，3-测试用例设计，4-测试执行',
  `biz_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '业务名称',
  `func_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_croatian_ci NULL DEFAULT NULL COMMENT '模块编号',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `task_id`(`task_id` ASC) USING BTREE,
  INDEX `ubranch_id`(`ubranch_id` ASC, `userid` ASC) USING BTREE,
  INDEX `project_id`(`project_id` ASC, `branch_id` ASC, `userid` ASC) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_croatian_ci COMMENT = '工时登记表' ROW_FORMAT = DYNAMIC;

SET FOREIGN_KEY_CHECKS = 1;
